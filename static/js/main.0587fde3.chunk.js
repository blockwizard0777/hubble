(this["webpackJsonphubble-webapp"]=this["webpackJsonphubble-webapp"]||[]).push([[7],{11:function(e,t,n){"use strict";var a=n(20),r=Object(a.a)({},window.runtimeConfig.hubbleConfig);t.a=r},134:function(e,t,n){"use strict";t.a={SET_STATE:"hubble/core/SET_STATE",GET_TOKENS_ATA:"hubble/core/GET_TOKENS_ATA",CREATE_ATA:"hubble/core/CREATE_ATA",CREATE_ALL_ATAS:"hubble/core/CREATE_ALL_ATAS",MINT_TOKEN:"hubble/core/MINT_TOKEN",GET_ATA_BALANCE:"hubble/core/GET_ATA_BALANCE"}},135:function(e,t,n){"use strict";t.a={SET_STATE:"solana/SET_STATE",GET_KNOWN_MINTS:"solana/GET_KNOWN_MINTS",GET_MINT_ACCOUNTS:"solana/GET_MINT_ACCOUNTS",GET_TOKEN_ACCOUNTS:"solana/GET_TOKEN_ACCOUNTS",GET_NATIVE_ACCOUNT:"solana/GET_NATIVE_ACCOUNT",REQUEST_AIRDROP:"solana/REQUEST_AIRDROP"}},151:function(e,t,n){"use strict";var a=n(78),r=n(103),i=n(0);t.a=function(){var e=Object(r.d)(),t=Object(a.b)(),n=t.publicKey,o=t.signTransaction,s=t.signAllTransactions,c=t.disconnect,u=Object(r.e)((function(e){return e.web3.env})),l=Object(r.e)((function(e){return e.web3.walletConnected})),b=Object(r.e)((function(e){return e.web3.walletPublicKey})),d=Object(i.useCallback)((function(t){console.log("Environment switched to",u),e({type:"web3/SET_ENV",payload:{env:t,publicKey:n,signTransaction:o,signAllTransactions:s}})}),[e,u,n,o,s]),p=Object(i.useCallback)((function(){e({type:"web3/DISCONNECT_WALLET",payload:{env:u,disconnect:c}})}),[e,u,c]),y=Object(i.useCallback)((function(){e({type:"web3/CONNECT_WALLET",payload:{env:u,publicKey:n,signTransaction:o,signAllTransactions:s}})}),[e,u,n,o,s]);return{env:u,setEnv:d,walletConnected:l,walletPublicKey:b,connectWallet:y,disconnectWallet:p}}},184:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),i=n(7),o=n(8),s=n(3),c=n(70),u=n(49),l=function t(n,a,l,b){var d=this;Object(o.a)(this,t),this._client=void 0,this._signTransaction=void 0,this._signAllTransaction=void 0,this._walletPublicKey=void 0,this.findBalance=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d._client.connection.getTokenAccountBalance(t);case 2:return e.abrupt("return",e.sent.value.uiAmount);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.mintTo=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,o,c,l,b,p,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uint8Array.from([241,101,13,165,53,150,114,216,162,246,157,94,156,209,145,37,186,13,219,120,66,196,128,253,177,46,0,70,68,211,238,83,155,17,157,105,115,161,0,60,146,250,19,171,63,222,211,135,37,102,222,216,142,131,67,196,185,182,202,219,55,24,135,90]),o=s.Keypair.fromSecretKey(i),c=[u.TokenInstructions.mintTo({mint:t,destination:n,amount:a,mintAuthority:o.publicKey})],(l=new s.Transaction).add.apply(l,c),e.next=7,d._client.connection.getRecentBlockhash();case 7:return b=e.sent,p=b.blockhash,l.recentBlockhash=p,l.feePayer=o.publicKey,e.next=13,d._client.connection.sendTransaction(l,[o]);case 13:return y=e.sent,e.next=16,d._client.connection.confirmTransaction(y);case 16:return e.abrupt("return",y);case 17:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.findAta=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d._findAtaForTokenMint(t,n);case 2:return a=e.sent,e.next=5,d._checkIfAccountExists(a);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",a);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.findAtaWithCreateCallbackIfNotExists=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d._findAtaForTokenMint(t,n);case 2:return a=e.sent,e.next=5,d._checkIfAccountExists(a);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",{ata:a,createAta:null});case 7:return e.abrupt("return",{ata:a,createAta:function(){return d._createAta(t,n,a)}});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.findAtaWithCreateTransactionIfNotExists=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d._findAtaForTokenMint(t,n);case 2:return a=e.sent,e.next=5,d._checkIfAccountExists(a);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",{ata:a,createAtaTx:null});case 7:return e.abrupt("return",{ata:a,createAtaTx:{tx:d._createAtaTx(t,n,a),signers:[]}});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this._createAtaIx=function(t,n,a){var r=d._getKeys(t,a,n);return new s.TransactionInstruction({keys:r,programId:c.a,data:e.from([])})},this._createAtaTx=function(e,t,n){var a=d._createAtaIx(e,t,n),r=new s.Transaction;return r.add(a),r},this._createAta=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,o,s,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=d._createAtaTx(t,n,a),e.next=3,d._client.connection.getRecentBlockhash();case 3:return o=e.sent,s=o.blockhash,i.recentBlockhash=s,i.feePayer=d._walletPublicKey,e.next=9,d._signTransaction(i);case 9:return c=e.sent,e.next=12,d._client.connection.sendRawTransaction(c.serialize());case 12:return u=e.sent,e.next=15,d._client.connection.confirmTransaction(u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.createAtas=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,o,s,c,u,l,b,p,y,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],i=[],o=0;case 3:if(!(o<n.length)){e.next=15;break}return e.next=6,d._findAtaForTokenMint(t,n[o]);case 6:return s=e.sent,a.push(s),e.next=10,d._checkIfAccountExists(s);case 10:if(e.sent){e.next=12;break}i.push([s,n[o]]);case 12:o++,e.next=3;break;case 15:return c=[],e.next=18,d._client.connection.getRecentBlockhash();case 18:for(u=e.sent,l=u.blockhash,b=0;b<i.length;b++)(p=d._createAtaTx(t,i[b][1],i[b][0])).recentBlockhash=l,p.feePayer=d._walletPublicKey,c.push(p);return e.next=23,d._signAllTransaction(c);case 23:return y=e.sent,e.next=26,Promise.all(y.map((function(e){return d._client.connection.sendRawTransaction(e.serialize())})));case 26:return g=e.sent,e.next=29,Promise.all(g.map((function(e){return d._client.connection.confirmTransaction(e)})));case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this._checkIfAccountExists=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d._client.connection.getAccountInfo(t);case 2:return n=e.sent,e.abrupt("return",null!==n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._findAtaForTokenMint=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.PublicKey.findProgramAddress([t.toBuffer(),c.d.toBuffer(),n.toBuffer()],c.a);case 2:return a=e.sent[0],e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this._getKeys=function(e,t,n){return[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.d,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}]},this._client=n,this._signTransaction=a,this._signAllTransaction=l,this._walletPublicKey=b}}).call(this,n(15).Buffer)},208:function(e,t,n){"use strict";t.a={SET_STATE:"serum/SET_STATE",GET_MARKETS:"serum/GET_MARKETS",GET_MARKETS_ONCE:"serum/GET_MARKETS_ONCE"}},22:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return y})),n.d(t,"j",(function(){return g})),n.d(t,"f",(function(){return S})),n.d(t,"i",(function(){return m}));var a={CONNECT_LABEL:"Connect",CREATE_VAULT_TITLE:"Create New Vault",CREATE_VAULT_ACTION:"Create",BORROWING_POWER_USED:"Borrowing Power Used",BORROWING_POWER_VALUE:"Borrowing Power",BORROWED_VALUE:"You borrowed",LIQUIDATION_INFO:"This view displays all loans that can be liquidated. A liquidation is a process where borrower collateral does not cover value of the loan. It is represented by health factor falling below 1.0. When a loan is liquidated, an liquidator can purchase collateral at a discount by repaing the portio of the loan. ",ACCOUNT_FUNDED:"Account funded.",AIRDROP_FAILED_MESSAGE:"Airdrop request failed",AIRDROP_FAILED_DESCRIPTION:"Airdrop failed! Check you are not on mainnet or your localnet is running.",AIRDROP_REQUESTED_MESSAGE:"Airdrop Requested",AIRDROP_REQUESTED_DESCRIPTION:"Airdrop request successfully submitted!",REPAY_QUESTION:"How much would you like to repay?",REPAY_ACTION:"Repay",RESERVE_STATUS_TITLE:"Reserve Status & Configuration",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Home",MENU_DASHBOARD:"Dashboard",DASHBOARD_INFO:"Connect to a wallet to view your deposits/loans.",TRANSACTIONS_INFO:"Connect to a wallet to view your transactions.",NO_LOANS_NO_DEPOSITS:"No loans or deposits.",MENU_DEPOSIT:"Deposit",DEPOSITS:"Deposits",BORROWS:"Borrows",LOAN_TO_VALUE:"Loan to value",MENU_AIRDROP:"Airdrop",MENU_BORROW:"Borrow",MENU_FARMS:"Farms",MENU_LIQUIDATIONS:"Liquidate",MENU_STABILITY:"Stability",MENU_STAKE:"Stake",MENU_REDEEM:"Redeem",MARGIN_TRADING:"Margin Trading",PAGE_AIRDROP:"Airdrop",PAGE_DASHBOARD:"Dashboard",PAGE_STABILITY:"Stability",PAGE_REDEEM:"Redeem",PAGE_STAKE:"Stake",PAGE_FARMS:"Farms",PAGE_AIRDROP_ACTION:"Airdrop",PAGE_AIRDROP_TITLE:"Airdrop",PAGE_AIRDROP_EMOJI:"\ud83c\udf81",PAGE_AIRDROP_INFO:"Airdrop SOL to your non-mainnet account",PAGE_BORROW:"Borrow",PAGE_LIQUIDATIONS:"Liquidations",PAGE_HOME:"Home",PAGE_NOT_FOUND:"Not Found",PAGE_NOT_FOUND_TITLE:"Page not found",PAGE_NOT_FOUND_TEXT:"This page is deprecated, deleted, or does not exist",PAGE_NOT_FOUND_ACTION:"Back",APP_TITLE_EMOJI:"\ud83d\udef0\ufe0f",APP_TITLE:"Atomotos-Sol",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",SELECT_COLLATERAL:"Select collateral",COLLATERAL:"Collateral",BORROW_QUESTION:"How much would you like to borrow?",BORROW_ACTION:"Borrow",NO_COLLATERAL:"No collateral",NO_DEPOSITS:"No deposits",NO_LOANS:"No loans",NOTHING_BORROWED:"Nothing borrowed yet",NOTHING_BORROWED_MESSAGE:"There will be a list of all the assets you have borrowed. For now, it's empty since you have not borrowed.",BORROW_NOW:"Borrow now",LIQUIDATE_QUESTION:"How much would you like to liquidate?",LIQUIDATE_ACTION:"Liquidate",LIQUIDATE_NO_LOANS:"There are no loans to liquidate.",TABLE_TITLE_ASSET:"Asset",TABLE_TITLE_YOUR_LOAN_BALANCE:"Loan balance",TABLE_TITLE_LOAN_BALANCE:"Loan balance",TABLE_TITLE_COLLATERAL_BALANCE:"Collateral",TABLE_TITLE_DEPOSIT_BALANCE:"Your deposits",TABLE_TITLE_APY:"APY",TABLE_TITLE_LTV:"LTV",TABLE_TITLE_HEALTH:"Health Factor",TABLE_TITLE_BORROW_APY:"Borrow APY",TABLE_TITLE_DEPOSIT_APY:"Deposit APY",TABLE_TITLE_TOTAL_BORROWED:"Total Borrowed",TABLE_TITLE_MARKET_SIZE:"Market Size",TABLE_TITLE_ACTION:"Action",TABLE_TITLE_DEPOSITS:"Deposits",TABLE_TITLE_WITHDRAWS:"Withdraws",TABLE_TITLE_BORROWS:"Borrows",TABLE_TITLE_REPAY_OBLIGATIONS:"Repay Obligations",TABLE_TITLE_LIQUIDATE_OBLIGATIONS:"Liquidate Obligations",MAX_LTV:"Maximum LTV",LIQUIDATION_THRESHOLD:"Liquidation threshold",LIQUIDATION_PENALTY:"Liquidation penalty",TABLE_TITLE_MAX_BORROW:"Available for you",DASHBOARD_TITLE_LOANS:"Loans",DASHBOARD_TITLE_DEPOSITS:"Deposits",DEPOSIT_QUESTION:"How much would you like to deposit?",WITHDRAW_ACTION:"Withdraw",WITHDRAW_QUESTION:"How much would you like to withdraw?",DASHBOARD_ACTION:"Go to dashboard",GO_BACK_ACTION:"Go back",DEPOSIT_ACTION:"Deposit",TOTAL_TITLE:"Total",TRADING_TABLE_TITLE_MY_COLLATERAL:"Chosen Collateral",TRADING_TABLE_TITLE_DESIRED_ASSET:"Desired Asset",TRADING_TABLE_TITLE_MULTIPLIER:"Leverage",TRADING_TABLE_TITLE_ASSET_PRICE:"Asset Price",TRADING_TABLE_TITLE_LIQUIDATION_PRICE:"Liquidation Price",TRADING_TABLE_TITLE_APY:"APY",TRADING_TABLE_TITLE_ACTIONS:"Action",TRADING_ADD_POSITION:"Add Position",MARGIN_TRADE_ACTION:"Margin Trade",MARGIN_TRADE_CHOOSE_COLLATERAL_AND_LEVERAGE:"Please choose your collateral and leverage.",MARGIN_TRADE_QUESTION:"Please choose how much of this asset you wish to purchase.",TABLE_TITLE_BUYING_POWER:"Total Buying Power",NOT_ENOUGH_MARGIN_MESSAGE:"Not enough buying power in oyster to make this trade at this leverage.",SET_MORE_MARGIN_MESSAGE:"You need more margin to match this leverage amount to make this trade.",LEVERAGE_LIMIT_MESSAGE:"You will need more margin to make this trade.",NO_DEPOSIT_MESSAGE:"You need to deposit coin of this type into oyster before trading with it on margin.",NO_COLL_TYPE_MESSAGE:"Choose Collateral CCY",SAFER:"Safer",RISKIER:"Riskier",STAKING_PAGE:"Staking Page",APPROVE_TROVE_FAILED_MESSAGE:"ApproveTrove request failed",APPROVE_TROVE_FAILED_DESCRIPTION:"Airdrop failed! Validate exact input variables or your localnet is running.",BORROW_STABLECOIN_FAILED_MESSAGE:"Failed to borrow USDH!",BORROW_STABLECOIN_FAILED_DESCRIPTION:"Could not loan requested amount",CREATE_LOAN_FAILED_MESSAGE:"Failed to create loan",CREATE_LOAN_FAILED_DESCRIPTION:"Loan creation failed!",WITHDRAW_COLLATERAL_FAILED_MESSAGE:"Failed to withdraw collateral",WITHDRAW_COLLATERAL_FAILED_DESCRIPTION:"Withdrawing collateral failed!",DEPOSIT_COLLATERAL_FAILED_MESSAGE:"Failed to deposit collateral",DEPOSIT_COLLATERAL_FAILED_DESCRIPTION:"Depositing collateral failed!",DEPOSIT_LOAN_FAILED_MESSAGE:"Deposit request failed",DEPOSIT_LOAN_FAILED_DESCRIPTION:"Deposit failed! Validate exact input variables or your localnet is running.",STAKING_DEPOSIT_FAILED_MESSAGE:"Staking deposit failed",APPROVE_STAKING_FAILED_MESSAGE:"ApproveStaking request failed",APPROVE_STAKING_FAILED_DESCRIPTION:"Approve Staking failed! Validate exact input variables or your localnet is running.",STAKING_DEPOSIT_FAILED_DESCRIPTION:"Staking failed! Validate exact input variables or your localnet is running.",UNSTAKING_WITHDRAW_FAILED_MESSAGE:"Unstaking withdraw failed",UNSTAKING_WITHDRAW_FAILED_DESCRIPTION:"Unstaking failed! Validate exact input variables or your localnet is running.",HARVEST_FAILED_MESSAGE:"Harvest rewards failed",HARVEST_FAILED_DESCRIPTION:"Harvest rewards failed! Validate exact input variables or your localnet is running.",GENERAL_USER_DATA_FAILED_MESSAGE:"Error when fetching user data",GENERAL_USER_DATA_FAILED_DESCRIPTION:"There was an unexpected error when loading your user data",GENERAL_PROGRAM_DATA_FAILED_MESSAGE:"Error when fetching program data",GENERAL_PROGRAM_DATA_FAILED_DESCRIPTION:"There was an unexpected error when loading your program data",REPAY_LOAN_FAILED_MESSAGE:"Repayed loan failed",REPAY_LOAN_FAILED_DESCRIPTION:"Repayed loan failed! Validate exact input variables or your localnet is running."},r=n(52),i=n.n(r),o=new i.a(10),s=(o.pow(new i.a(18)),o.pow(new i.a(18))),c=(o.pow(new i.a(27)),new i.a(0)),u=1e9,l=Math.pow(10,6),b=Math.pow(10,6),d=Math.pow(10,6),p=Math.pow(10,6),y=Math.pow(10,6),g=1e6,S=1e6,m=1e3},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));n(0);var a=n(283),r=n(19);function i(e){var t=e.message,n=void 0===t?"":t,i=e.description,o=void 0===i?void 0:i,s=e.txid,c=void 0===s?"":s,u=e.type,l=void 0===u?"info":u,b=e.placement,d=void 0===b?"bottomLeft":b,p=e.key,y=void 0===p?"":p,g=e.duration,S=void 0===g?4.5:g;c&&(o=Object(r.jsx)(r.Fragment,{})),a.a.open({key:y||null,message:"success"===l?Object(r.jsx)("span",{style:{color:"#00EAB2"},children:n}):"error"===l?Object(r.jsx)("span",{style:{color:"#FF0505"},children:n}):"warning"===l?Object(r.jsx)("span",{style:{color:"#FF9900"},children:n}):Object(r.jsx)("span",{style:{color:"#8F8F8F"},children:n}),description:Object(r.jsx)("span",{style:{color:"white"},children:o}),placement:d,style:{backgroundColor:"#2D2F42",borderRadius:"20px",border:"1px solid transparent",width:"100%",boxShadow:"none"},duration:S})}function o(e){a.a.close(e)}},275:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(20),r=n(1),i=n.n(r),o=n(7),s=n(8),c=n(53),u=n(39),l=n.n(u),b=function t(n){var r=this;Object(s.a)(this,t),this._borrowingClient=void 0,this.getMarket=function(e){return r._borrowingClient.client.account.borrowingMarketState.fetch(e)},this.getStakingPoolState=function(e){return r._borrowingClient.client.account.stakingPoolState.fetch(e)},this.getStabilityPoolState=function(e){return r._borrowingClient.client.account.stabilityPoolState.fetch(e)},this.getStabilityVaults=function(e){return r._borrowingClient.client.account.stabilityVaults.fetch(e)},this.getUserStakingState=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._borrowingClient.client.account.userStakingState.all();case 2:if(a=e.sent,!((o=a.filter((function(e){return e.account.user.toString()===t.toString()&&e.account.stakingPoolState.toString()===n.toString()}))).length>0)){e.next=7;break}return s=o[0],e.abrupt("return",s);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getUserVaults=function(){var t=Object(o.a)(i.a.mark((function t(n){var o,s,u,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r._borrowingClient.client.account.userMetadata._idlAccount.name,s=e.from(c.sha256.digest("account:".concat(o))).slice(0,8),u=[{memcmp:{offset:0,bytes:l.a.encode(s)}}],t.next=6,r._borrowingClient.client.provider.connection.getProgramAccounts(r._borrowingClient.client.programId,{commitment:r._borrowingClient.provider.connection.commitment,filters:u});case 6:return b=t.sent,n&&(b=b.filter((function(e){var t=e.account;return r._borrowingClient.client.coder.accounts.decode(o,t.data).owner.toString()===n}))),t.abrupt("return",b.map((function(e){var t=e.pubkey,n=e.account;return Object(a.a)(Object(a.a)({publicKey:t},n),{},{data:r._borrowingClient.client.coder.accounts.decode(o,n.data)})})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getStabilityProviderState=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._borrowingClient.client.account.stabilityProviderState.all();case 2:if(a=e.sent,!((o=a.filter((function(e){return e.account.owner.toString()===t.toString()&&e.account.stabilityPoolState.toString()===n.toString()}))).length>0)){e.next=8;break}return(s=o[0]).account.depositedStablecoin=s.account.depositedStablecoin.toNumber(),e.abrupt("return",s);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getEpochToScaleToSum=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._borrowingClient.client.account.epochToScaleToSumAccount.fetch(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._borrowingClient=n}}).call(this,n(15).Buffer)},337:function(e,t,n){},343:function(e,t,n){"use strict";n.d(t,"p",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"q",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return P})),n.d(t,"o",(function(){return k})),n.d(t,"g",(function(){return I})),n.d(t,"m",(function(){return j})),n.d(t,"k",(function(){return R})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return N})),n.d(t,"c",(function(){return K}));var a=n(20),r=n(284),i=n(134),o={stablecoinAta:null,ethAta:null,btcAta:null,srmAta:null,fttAta:null,rayAta:null,hbbAta:null,stablecoinAtaLoading:!1,ethAtaLoading:!1,btcAtaLoading:!1,srmAtaLoading:!1,fttAtaLoading:!1,rayAtaLoading:!1,hbbAtaLoading:!1,stablecoinAtaLoadingError:!1,ethAtaLoadingError:!1,btcAtaLoadingError:!1,srmAtaLoadingError:!1,fttAtaLoadingError:!1,rayAtaLoadingError:!1,hbbAtaLoadingError:!1,stablecoinBalance:null,ethBalance:null,btcBalance:null,srmBalance:null,fttBalance:null,rayBalance:null,hbbBalance:null,stablecoinBalanceLoading:!1,ethBalanceLoading:!1,btcBalanceLoading:!1,srmBalanceLoading:!1,fttBalanceLoading:!1,rayBalanceLoading:!1,hbbBalanceLoading:!1,stablecoinBalanceLoadingError:!1,ethBalanceLoadingError:!1,btcBalanceLoadingError:!1,srmBalanceLoadingError:!1,fttBalanceLoadingError:!1,rayBalanceLoadingError:!1,hbbBalanceLoadingError:!1,mintCounter:0,ataConter:0},s=function(e){return e.hubbleCore.stablecoinAta},c=function(e){return e.hubbleCore.stablecoinAtaLoading},u=function(e){return e.hubbleCore.ethAta},l=function(e){return e.hubbleCore.ethAtaLoading},b=function(e){return e.hubbleCore.btcAta},d=function(e){return e.hubbleCore.btcAtaLoading},p=function(e){return e.hubbleCore.srmAta},y=function(e){return e.hubbleCore.srmAtaLoading},g=function(e){return e.hubbleCore.fttAta},S=function(e){return e.hubbleCore.fttAtaLoading},m=function(e){return e.hubbleCore.rayAta},A=function(e){return e.hubbleCore.rayAtaLoading},f=function(e){return e.hubbleCore.hbbAta},T=function(e){return e.hubbleCore.hbbAtaLoading},w=function(e){return e.hubbleCore.stablecoinBalance},h=function(e){return e.hubbleCore.stablecoinBalanceLoading},E=function(e){return e.hubbleCore.ethBalance},O=function(e){return e.hubbleCore.ethBalanceLoading},P=function(e){return e.hubbleCore.btcBalance},_=function(e){return e.hubbleCore.btcBalanceLoading},k=function(e){return e.hubbleCore.srmBalance},v=function(e){return e.hubbleCore.srmBalanceLoading},I=function(e){return e.hubbleCore.fttBalance},M=function(e){return e.hubbleCore.fttBalanceLoading},j=function(e){return e.hubbleCore.rayBalance},L=function(e){return e.hubbleCore.rayBalanceLoading},R=function(e){return e.hubbleCore.hbbBalance},x=function(e){return e.hubbleCore.hbbBalanceLoading},C=function(){return Object(r.a)([c,l,d,y,S,A,T],(function(e,t,n,a,r,i,o){return e||t||n||a||r||i||o}))},N=function(){return Object(r.a)([h,O,_,v,M,L,x],(function(e,t,n,a,r,i,o){return e||t||n||a||r||i||o}))};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return t.type===i.a.SET_STATE?Object(a.a)(Object(a.a)({},e),t.payload):e}},344:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(20),r=n(135),i={nativeAccount:null,nativeAccountLoading:!1,nativeAccountError:!1,airdropSubmitting:!1,airdropError:!1,knownMints:{},knownMintsLoading:!1,knownMintsError:!1,mintAccounts:[],mintAccountsLoading:!1,mintAccountsError:!1,tokenAccounts:[],tokenAccountsLoading:!1,tokenAccountsError:!1},o=function(e){return e.solana.nativeAccount},s=function(e){return e.solana.nativeAccountLoading};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===r.a.SET_STATE?Object(a.a)(Object(a.a)({},e),t.payload):e}},345:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(20),r=n(208),i={marketsLoading:!1,marketsError:!1,markets:{}},o=function(e){return e.serum.markets},s=function(e){return e.serum.marketsLoading};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===r.a.SET_STATE?Object(a.a)(Object(a.a)({},e),t.payload):e}},346:function(e,t,n){},462:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"borrowing","instructions":[{"name":"initializeBorrowingMarket","accounts":[{"name":"initialMarketOwner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":true},{"name":"borrowingVaults","isMut":true,"isSigner":true},{"name":"redemptionsQueue","isMut":true,"isSigner":false},{"name":"borrowingFeesVault","isMut":true,"isSigner":false},{"name":"burningVault","isMut":true,"isSigner":false},{"name":"collateralVaultSol","isMut":true,"isSigner":false},{"name":"collateralVaultSrm","isMut":true,"isSigner":false},{"name":"collateralVaultEth","isMut":true,"isSigner":false},{"name":"collateralVaultBtc","isMut":true,"isSigner":false},{"name":"collateralVaultRay","isMut":true,"isSigner":false},{"name":"collateralVaultFtt","isMut":true,"isSigner":false},{"name":"stablecoinMint","isMut":true,"isSigner":false},{"name":"hbbMint","isMut":true,"isSigner":false},{"name":"srmMint","isMut":false,"isSigner":false},{"name":"ethMint","isMut":false,"isSigner":false},{"name":"btcMint","isMut":false,"isSigner":false},{"name":"rayMint","isMut":false,"isSigner":false},{"name":"fttMint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"approveTrove","accounts":[{"name":"owner","isMut":true,"isSigner":true},{"name":"userMetadata","isMut":true,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"stablecoinAta","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"depositCollateral","accounts":[{"name":"owner","isMut":true,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"userMetadata","isMut":true,"isSigner":false},{"name":"collateralFrom","isMut":true,"isSigner":false},{"name":"collateralTo","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amountInLamports","type":"u64"},{"name":"collateral","type":"u8"}]},{"name":"borrowStablecoin","accounts":[{"name":"owner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"stakingPoolState","isMut":true,"isSigner":false},{"name":"userMetadata","isMut":true,"isSigner":false},{"name":"stablecoinMint","isMut":true,"isSigner":false},{"name":"stablecoinMintAuthority","isMut":false,"isSigner":false},{"name":"stablecoinBorrowingAssociatedAccount","isMut":true,"isSigner":false},{"name":"borrowingFeesVault","isMut":true,"isSigner":false},{"name":"pythSolPriceInfo","isMut":false,"isSigner":false},{"name":"pythEthPriceInfo","isMut":false,"isSigner":false},{"name":"pythBtcPriceInfo","isMut":false,"isSigner":false},{"name":"pythSrmPriceInfo","isMut":false,"isSigner":false},{"name":"pythRayPriceInfo","isMut":false,"isSigner":false},{"name":"pythFttPriceInfo","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"repayLoan","accounts":[{"name":"owner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"userMetadata","isMut":true,"isSigner":false},{"name":"stablecoinMint","isMut":true,"isSigner":false},{"name":"stablecoinBorrowingAssociatedAccount","isMut":true,"isSigner":false},{"name":"burningVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"stablecoinMintAuthority","isMut":false,"isSigner":false},{"name":"burningVaultAuthority","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdrawCollateral","accounts":[{"name":"owner","isMut":true,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"userMetadata","isMut":true,"isSigner":false},{"name":"collateralFrom","isMut":true,"isSigner":false},{"name":"collateralFromAuthority","isMut":false,"isSigner":false},{"name":"collateralTo","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"pythSolPriceInfo","isMut":false,"isSigner":false},{"name":"pythEthPriceInfo","isMut":false,"isSigner":false},{"name":"pythBtcPriceInfo","isMut":false,"isSigner":false},{"name":"pythSrmPriceInfo","isMut":false,"isSigner":false},{"name":"pythRayPriceInfo","isMut":false,"isSigner":false},{"name":"pythFttPriceInfo","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"collateral","type":"u8"}]},{"name":"stabilityInitialize","accounts":[{"name":"initialMarketOwner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"stabilityPoolState","isMut":true,"isSigner":true},{"name":"stabilityVaults","isMut":true,"isSigner":true},{"name":"epochToScaleToSum","isMut":true,"isSigner":false},{"name":"liquidationsQueue","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultSol","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultSrm","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultEth","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultBtc","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultRay","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultFtt","isMut":true,"isSigner":false},{"name":"stablecoinStabilityPoolVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"stabilityApprove","accounts":[{"name":"owner","isMut":true,"isSigner":true},{"name":"stabilityProviderState","isMut":true,"isSigner":true},{"name":"stabilityPoolState","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stabilityProvide","accounts":[{"name":"owner","isMut":false,"isSigner":true},{"name":"stabilityProviderState","isMut":true,"isSigner":false},{"name":"stabilityPoolState","isMut":true,"isSigner":false},{"name":"epochToScaleToSum","isMut":true,"isSigner":false},{"name":"stablecoinStabilityPoolVault","isMut":true,"isSigner":false},{"name":"stablecoinAta","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"stabilityWithdraw","accounts":[{"name":"owner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"stabilityProviderState","isMut":true,"isSigner":false},{"name":"stabilityVaults","isMut":false,"isSigner":false},{"name":"stabilityPoolState","isMut":true,"isSigner":false},{"name":"epochToScaleToSum","isMut":true,"isSigner":false},{"name":"stablecoinStabilityPoolVault","isMut":true,"isSigner":false},{"name":"stablecoinStabilityPoolVaultAuthority","isMut":false,"isSigner":false},{"name":"stablecoinAta","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"tryLiquidate","accounts":[{"name":"liquidator","isMut":true,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"stabilityPoolState","isMut":true,"isSigner":false},{"name":"userMetadata","isMut":true,"isSigner":false},{"name":"epochToScaleToSum","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"stabilityVaults","isMut":false,"isSigner":false},{"name":"liquidationsQueue","isMut":true,"isSigner":false},{"name":"stablecoinMint","isMut":true,"isSigner":false},{"name":"stablecoinMintAuthority","isMut":false,"isSigner":false},{"name":"stablecoinStabilityPoolVault","isMut":true,"isSigner":false},{"name":"stablecoinStabilityPoolVaultAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"pythSolPriceInfo","isMut":false,"isSigner":false},{"name":"pythEthPriceInfo","isMut":false,"isSigner":false},{"name":"pythBtcPriceInfo","isMut":false,"isSigner":false},{"name":"pythSrmPriceInfo","isMut":false,"isSigner":false},{"name":"pythRayPriceInfo","isMut":false,"isSigner":false},{"name":"pythFttPriceInfo","isMut":false,"isSigner":false}],"args":[]},{"name":"harvestLiquidationGains","accounts":[{"name":"owner","isMut":true,"isSigner":true},{"name":"stabilityProviderState","isMut":true,"isSigner":false},{"name":"stabilityVaults","isMut":false,"isSigner":false},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"stabilityPoolState","isMut":true,"isSigner":false},{"name":"liquidationsQueue","isMut":true,"isSigner":false},{"name":"epochToScaleToSum","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultSol","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultSrm","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultEth","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultBtc","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultRay","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultFtt","isMut":true,"isSigner":false},{"name":"hbbAta","isMut":true,"isSigner":false},{"name":"srmAta","isMut":true,"isSigner":false},{"name":"ethAta","isMut":true,"isSigner":false},{"name":"btcAta","isMut":true,"isSigner":false},{"name":"rayAta","isMut":true,"isSigner":false},{"name":"fttAta","isMut":true,"isSigner":false},{"name":"liquidationRewardsVaultAuthority","isMut":false,"isSigner":false},{"name":"hbbMint","isMut":true,"isSigner":false},{"name":"hbbMintAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"clearLiquidationGains","accounts":[{"name":"clearingAgent","isMut":true,"isSigner":true},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"liquidationsQueue","isMut":true,"isSigner":false},{"name":"collateralVault","isMut":true,"isSigner":false},{"name":"collateralVaultAuthority","isMut":false,"isSigner":false},{"name":"liquidationRewardsVault","isMut":true,"isSigner":false},{"name":"clearingAgentAta","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"token","type":"u8"}]},{"name":"addRedemptionOrder","accounts":[{"name":"redeemer","isMut":true,"isSigner":true},{"name":"redeemerMetadata","isMut":true,"isSigner":false},{"name":"redeemerStablecoinAssociatedAccount","isMut":true,"isSigner":false},{"name":"redemptionsQueue","isMut":true,"isSigner":false},{"name":"burningVault","isMut":true,"isSigner":false},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"pythSolPriceInfo","isMut":false,"isSigner":false},{"name":"pythEthPriceInfo","isMut":false,"isSigner":false},{"name":"pythBtcPriceInfo","isMut":false,"isSigner":false},{"name":"pythSrmPriceInfo","isMut":false,"isSigner":false},{"name":"pythRayPriceInfo","isMut":false,"isSigner":false},{"name":"pythFttPriceInfo","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"stablecoinAmount","type":"u64"}]},{"name":"fillRedemptionOrder","accounts":[{"name":"filler","isMut":false,"isSigner":true},{"name":"fillerMetadata","isMut":true,"isSigner":false},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"redemptionsQueue","isMut":true,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"orderId","type":"u64"}]},{"name":"clearRedemptionOrder","accounts":[{"name":"clearer","isMut":false,"isSigner":true},{"name":"clearerMetadata","isMut":true,"isSigner":false},{"name":"redeemerMetadata","isMut":true,"isSigner":false},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"redemptionsQueue","isMut":true,"isSigner":false},{"name":"burningVault","isMut":true,"isSigner":false},{"name":"burningVaultAuthority","isMut":false,"isSigner":false},{"name":"stablecoinMint","isMut":true,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"orderId","type":"u64"}]},{"name":"stakingInitialize","accounts":[{"name":"initialMarketOwner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"stakingPoolState","isMut":true,"isSigner":true},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stakingApprove","accounts":[{"name":"user","isMut":false,"isSigner":true},{"name":"userStakingState","isMut":true,"isSigner":true},{"name":"stakingPoolState","isMut":true,"isSigner":false},{"name":"userHbbStakingAta","isMut":true,"isSigner":false},{"name":"userStablecoinRewardsAta","isMut":true,"isSigner":false},{"name":"userSolRewardsAta","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stakingStakeHbb","accounts":[{"name":"user","isMut":false,"isSigner":true},{"name":"stakingPoolState","isMut":true,"isSigner":false},{"name":"userStakingState","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"userHbbStakingAta","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"stakingHarvestReward","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"stakingPoolState","isMut":true,"isSigner":false},{"name":"userStakingState","isMut":true,"isSigner":false},{"name":"userStablecoinRewardsAta","isMut":true,"isSigner":false},{"name":"borrowingFeesVault","isMut":true,"isSigner":false},{"name":"borrowingFeesVaultAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"unstakeHbb","accounts":[{"name":"user","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":true,"isSigner":false},{"name":"borrowingVaults","isMut":false,"isSigner":false},{"name":"stakingPoolState","isMut":true,"isSigner":false},{"name":"userStakingState","isMut":true,"isSigner":false},{"name":"userHbbStakingAta","isMut":true,"isSigner":false},{"name":"userStablecoinRewardsAta","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"stakingVaultAuthority","isMut":false,"isSigner":false},{"name":"borrowingFeesVault","isMut":true,"isSigner":false},{"name":"borrowingFeesVaultAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"airdropHbb","accounts":[{"name":"initialMarketOwner","isMut":true,"isSigner":true},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"userHbbAta","isMut":true,"isSigner":false},{"name":"hbbMint","isMut":true,"isSigner":false},{"name":"hbbMintAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"airdropUsdh","accounts":[{"name":"initialMarketOwner","isMut":false,"isSigner":true},{"name":"borrowingMarketState","isMut":false,"isSigner":false},{"name":"stablecoinAta","isMut":true,"isSigner":false},{"name":"stablecoinMint","isMut":true,"isSigner":false},{"name":"stablecoinMintAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"BorrowingMarketState","type":{"kind":"struct","fields":[{"name":"version","type":"u8"},{"name":"initialMarketOwner","type":"publicKey"},{"name":"tokenProgramId","type":"publicKey"},{"name":"stablecoinMint","type":"publicKey"},{"name":"stablecoinMintAuthority","type":"publicKey"},{"name":"stablecoinMintSeed","type":"u8"},{"name":"hbbMint","type":"publicKey"},{"name":"hbbMintAuthority","type":"publicKey"},{"name":"hbbMintSeed","type":"u8"},{"name":"numUsers","type":"u64"},{"name":"numActiveUsers","type":"u64"},{"name":"stablecoinBorrowed","type":"u64"},{"name":"depositedCollateral","type":{"defined":"CollateralAmounts"}},{"name":"baseRateBps","type":"u16"},{"name":"redistributedSol","type":"u64"},{"name":"redistributedStablecoin","type":"u64"},{"name":"totalStake","type":"u64"},{"name":"collateralRewardPerToken","type":{"defined":"TokenMap"}},{"name":"stablecoinRewardPerToken","type":"u128"},{"name":"totalStakeLastLiqSnapshot","type":"u64"},{"name":"borrowedStablecoinLastLiqSnapshot","type":"u64"}]}},{"name":"BorrowingVaults","type":{"kind":"struct","fields":[{"name":"borrowingMarketState","type":"publicKey"},{"name":"burningVault","type":"publicKey"},{"name":"burningVaultAuthority","type":"publicKey"},{"name":"burningVaultSeed","type":"u8"},{"name":"borrowingFeesVault","type":"publicKey"},{"name":"borrowingFeesVaultAuthority","type":"publicKey"},{"name":"borrowingFeesVaultSeed","type":"u8"},{"name":"collateralVaultSol","type":"publicKey"},{"name":"collateralVaultSrm","type":"publicKey"},{"name":"collateralVaultEth","type":"publicKey"},{"name":"collateralVaultBtc","type":"publicKey"},{"name":"collateralVaultRay","type":"publicKey"},{"name":"collateralVaultFtt","type":"publicKey"},{"name":"collateralVaultsAuthority","type":"publicKey"},{"name":"collateralVaultsSeed","type":"u8"},{"name":"srmMint","type":"publicKey"},{"name":"ethMint","type":"publicKey"},{"name":"btcMint","type":"publicKey"},{"name":"rayMint","type":"publicKey"},{"name":"fttMint","type":"publicKey"}]}},{"name":"StabilityPoolState","type":{"kind":"struct","fields":[{"name":"borrowingMarketState","type":"publicKey"},{"name":"epochToScaleToSum","type":"publicKey"},{"name":"liquidationsQueue","type":"publicKey"},{"name":"version","type":"u8"},{"name":"numUsers","type":"u64"},{"name":"totalUsersProvidingStability","type":"u64"},{"name":"stablecoinDeposited","type":"u64"},{"name":"hbbEmissionsStartTs","type":"u64"},{"name":"cumulativeGainsTotal","type":{"defined":"StabilityTokenMap"}},{"name":"pendingCollateralGains","type":{"defined":"StabilityTokenMap"}},{"name":"currentEpoch","type":"u64"},{"name":"currentScale","type":"u64"},{"name":"p","type":"u128"},{"name":"lastStablecoinLossErrorOffset","type":"u64"},{"name":"lastCollLossErrorOffset","type":{"defined":"StabilityCollateralAmounts"}}]}},{"name":"StabilityVaults","type":{"kind":"struct","fields":[{"name":"stabilityPoolState","type":"publicKey"},{"name":"stablecoinStabilityPoolVault","type":"publicKey"},{"name":"stablecoinStabilityPoolVaultAuthority","type":"publicKey"},{"name":"stablecoinStabilityPoolVaultSeed","type":"u8"},{"name":"liquidationRewardsVaultSol","type":"publicKey"},{"name":"liquidationRewardsVaultSrm","type":"publicKey"},{"name":"liquidationRewardsVaultEth","type":"publicKey"},{"name":"liquidationRewardsVaultBtc","type":"publicKey"},{"name":"liquidationRewardsVaultRay","type":"publicKey"},{"name":"liquidationRewardsVaultFtt","type":"publicKey"},{"name":"liquidationRewardsVaultAuthority","type":"publicKey"},{"name":"liquidationRewardsVaultSeed","type":"u8"},{"name":"srmMint","type":"publicKey"},{"name":"ethMint","type":"publicKey"},{"name":"btcMint","type":"publicKey"},{"name":"rayMint","type":"publicKey"},{"name":"fttMint","type":"publicKey"}]}},{"name":"UserMetadata","type":{"kind":"struct","fields":[{"name":"version","type":"u8"},{"name":"status","type":"u8"},{"name":"userId","type":"u64"},{"name":"metadataPk","type":"publicKey"},{"name":"owner","type":"publicKey"},{"name":"borrowingMarketState","type":"publicKey"},{"name":"stablecoinAta","type":"publicKey"},{"name":"depositedCollateral","type":{"defined":"CollateralAmounts"}},{"name":"borrowedStablecoin","type":"u64"},{"name":"userStake","type":"u64"},{"name":"userCollateralRewardPerToken","type":{"defined":"TokenMap"}},{"name":"userStablecoinRewardPerToken","type":"u128"}]}},{"name":"StakingPoolState","type":{"kind":"struct","fields":[{"name":"borrowingMarketState","type":"publicKey"},{"name":"totalDistributedRewards","type":"u128"},{"name":"rewardsNotYetClaimed","type":"u128"},{"name":"totalStake","type":"u128"},{"name":"rewardPerToken","type":"u128"},{"name":"prevRewardLoss","type":"u128"},{"name":"stakingVault","type":"publicKey"},{"name":"stakingVaultAuthority","type":"publicKey"},{"name":"stakingVaultSeed","type":"u8"}]}},{"name":"UserStakingState","type":{"kind":"struct","fields":[{"name":"stakingPoolState","type":"publicKey"},{"name":"borrowingFeesVault","type":"publicKey"},{"name":"stakingVault","type":"publicKey"},{"name":"user","type":"publicKey"},{"name":"userHbbStakingAta","type":"publicKey"},{"name":"userSolRewardsAta","type":"publicKey"},{"name":"userStablecoinRewardsAta","type":"publicKey"},{"name":"userStake","type":"u128"},{"name":"rewardsTally","type":"u128"}]}},{"name":"StabilityProviderState","type":{"kind":"struct","fields":[{"name":"version","type":"u8"},{"name":"stabilityPoolState","type":"publicKey"},{"name":"owner","type":"publicKey"},{"name":"userId","type":"u64"},{"name":"depositedStablecoin","type":"u64"},{"name":"userDepositSnapshot","type":{"defined":"DepositSnapshot"}},{"name":"cumulativeGainsPerUser","type":{"defined":"StabilityTokenMap"}},{"name":"pendingGainsPerUser","type":{"defined":"StabilityCollateralAmounts"}}]}},{"name":"EpochToScaleToSumAccount","type":{"kind":"struct","fields":[{"name":"data","type":{"array":["u128",1000]}}]}},{"name":"RedemptionsQueue","type":{"kind":"struct","fields":[{"name":"orders","type":{"array":[{"defined":"RedemptionOrder"},15]}},{"name":"nextIndex","type":"u64"},{"name":"len","type":"u64"}]}},{"name":"LiquidationsQueue","type":{"kind":"struct","fields":[{"name":"len","type":"u64"},{"name":"events","type":{"array":[{"defined":"LiquidationEvent"},300]}}]}}],"types":[{"name":"DepositSnapshot","type":{"kind":"struct","fields":[{"name":"sum","type":{"defined":"StabilityTokenMap"}},{"name":"product","type":"u128"},{"name":"scale","type":"u64"},{"name":"epoch","type":"u64"},{"name":"enabled","type":"bool"}]}},{"name":"CandidateRedemptionUser","type":{"kind":"struct","fields":[{"name":"status","type":"u8"},{"name":"userId","type":"u64"},{"name":"userMetadata","type":"publicKey"},{"name":"debt","type":"u64"},{"name":"collateralRatio","type":"u64"},{"name":"fillerMetadata","type":"publicKey"}]}},{"name":"RedemptionOrder","type":{"kind":"struct","fields":[{"name":"id","type":"u64"},{"name":"status","type":"u8"},{"name":"lastReset","type":"u64"},{"name":"redeemerUserMetadata","type":"publicKey"},{"name":"redeemer","type":"publicKey"},{"name":"requestedAmount","type":"u64"},{"name":"remainingAmount","type":"u64"},{"name":"redemptionPrices","type":{"defined":"TokenPrices"}},{"name":"candidateUsers","type":{"array":[{"defined":"CandidateRedemptionUser"},32]}}]}},{"name":"LiquidationEvent","type":{"kind":"struct","fields":[{"name":"status","type":"u8"},{"name":"userPositions","type":"publicKey"},{"name":"positionIndex","type":"u64"},{"name":"liquidator","type":"publicKey"},{"name":"eventTs","type":"u64"},{"name":"collateralGainToLiquidator","type":{"defined":"CollateralAmounts"}},{"name":"collateralGainToClearer","type":{"defined":"CollateralAmounts"}},{"name":"collateralGainToStabilityPool","type":{"defined":"CollateralAmounts"}}]}},{"name":"TokenMap","type":{"kind":"struct","fields":[{"name":"sol","type":"u128"},{"name":"eth","type":"u128"},{"name":"btc","type":"u128"},{"name":"srm","type":"u128"},{"name":"ray","type":"u128"},{"name":"ftt","type":"u128"}]}},{"name":"StabilityTokenMap","type":{"kind":"struct","fields":[{"name":"sol","type":"u128"},{"name":"eth","type":"u128"},{"name":"btc","type":"u128"},{"name":"srm","type":"u128"},{"name":"ray","type":"u128"},{"name":"ftt","type":"u128"},{"name":"hbb","type":"u128"}]}},{"name":"Price","type":{"kind":"struct","fields":[{"name":"value","type":"u64"},{"name":"exp","type":"u8"}]}},{"name":"TokenPrices","type":{"kind":"struct","fields":[{"name":"sol","type":{"defined":"Price"}},{"name":"eth","type":{"defined":"Price"}},{"name":"btc","type":{"defined":"Price"}},{"name":"srm","type":{"defined":"Price"}},{"name":"ray","type":{"defined":"Price"}},{"name":"ftt","type":{"defined":"Price"}}]}},{"name":"CollateralAmounts","type":{"kind":"struct","fields":[{"name":"sol","type":"u64"},{"name":"eth","type":"u64"},{"name":"btc","type":"u64"},{"name":"srm","type":"u64"},{"name":"ray","type":"u64"},{"name":"ftt","type":"u64"}]}},{"name":"StabilityCollateralAmounts","type":{"kind":"struct","fields":[{"name":"sol","type":"u64"},{"name":"eth","type":"u64"},{"name":"btc","type":"u64"},{"name":"srm","type":"u64"},{"name":"ray","type":"u64"},{"name":"ftt","type":"u64"},{"name":"hbb","type":"u64"}]}},{"name":"LoadingMode","type":{"kind":"enum","variants":[{"name":"Init"},{"name":"Mut"}]}},{"name":"LiquidationDecision","type":{"kind":"enum","variants":[]}},{"name":"LiquidationDecision","type":{"kind":"enum","variants":[{"name":"RedistributeAll"},{"name":"StabilityPoolAll"},{"name":"StabilityPoolThenRedistribute"},{"name":"DoNothing"}]}},{"name":"LiquidationMode","type":{"kind":"enum","variants":[{"name":"Normal"},{"name":"Recovery"}]}},{"name":"EventStatus","type":{"kind":"enum","variants":[{"name":"Inactive"},{"name":"PendingCollection"}]}},{"name":"PDA","type":{"kind":"enum","variants":[{"name":"BorrowingFeesAccount","fields":[{"name":"owner","type":"publicKey"}]},{"name":"StablecoinMint","fields":[{"name":"owner","type":"publicKey"}]},{"name":"StabilityPool","fields":[{"name":"owner","type":"publicKey"}]},{"name":"BurningPotAccount","fields":[{"name":"owner","type":"publicKey"}]},{"name":"StakingPool","fields":[{"name":"owner","type":"publicKey"}]},{"name":"HbbMint","fields":[{"name":"owner","type":"publicKey"}]},{"name":"CollateralVault","fields":[{"name":"owner","type":"publicKey"}]},{"name":"LiquidationsVault","fields":[{"name":"owner","type":"publicKey"}]}]}},{"name":"RedemptionOrderStatus","type":{"kind":"enum","variants":[{"name":"Inactive"},{"name":"Open"},{"name":"Filling"},{"name":"Claiming"}]}},{"name":"RedemptionCandidateStatus","type":{"kind":"enum","variants":[{"name":"Inactive"},{"name":"Active"}]}},{"name":"UserStatus","type":{"kind":"enum","variants":[{"name":"Inactive"},{"name":"Active"},{"name":"Liquidated"}]}},{"name":"CollateralToken","type":{"kind":"enum","variants":[{"name":"SOL"},{"name":"ETH"},{"name":"BTC"},{"name":"SRM"},{"name":"RAY"},{"name":"FTT"}]}},{"name":"StabilityToken","type":{"kind":"enum","variants":[{"name":"SOL"},{"name":"ETH"},{"name":"BTC"},{"name":"SRM"},{"name":"RAY"},{"name":"FTT"},{"name":"HBB"}]}}],"errors":[{"code":300,"name":"NotEnoughCollateral","msg":"Insufficient collateral to cover debt"},{"code":301,"name":"CollateralNotEnabled","msg":"Collateral not yet enabled"},{"code":302,"name":"CannotDepositZeroAmount","msg":"Cannot deposit zero collateral amount"},{"code":303,"name":"CannotWithdrawZeroAmount","msg":"Cannot withdraw zero collateral amount"},{"code":304,"name":"NothingToRepay","msg":"No outstanding debt"},{"code":305,"name":"CannotGenerateSeed","msg":"Could not generate seed"},{"code":306,"name":"NeedToClaimAllRewardsFirst","msg":"Need to claim all rewards first"},{"code":307,"name":"NeedToHarvestAllRewardsFirst","msg":"Need to harvest all rewards first"},{"code":308,"name":"StakingZero","msg":"Cannot stake or unstake 0 amount"},{"code":309,"name":"NothingToUnstake","msg":"Nothing to unstake"},{"code":310,"name":"UnstakingTooMuch","msg":"Unstaking too much"},{"code":311,"name":"NoRewardToWithdraw","msg":"No reward to withdraw"},{"code":312,"name":"CannotProvideZeroStability","msg":"Cannot provide zero stability"},{"code":313,"name":"StabilityPoolIsEmpty","msg":"Stability Pool is empty"},{"code":314,"name":"NotEnoughStabilityInTheStabilityPool","msg":"Stability pool cannot offset this much debt"},{"code":315,"name":"MismatchedNextPdaRewardAddress","msg":"Mismatching next PDA reward address"},{"code":316,"name":"MismatchedNextPdaRewardSeed","msg":"Mismatching next PDA reward seed"},{"code":317,"name":"MismatchedNextPdaIndex","msg":"Wrong next reward pda index"},{"code":318,"name":"NextRewardNotReadyYet","msg":"Next reward not ready yet"},{"code":319,"name":"NothingStaked","msg":"Nothing staked, cannot collect any rewards"},{"code":320,"name":"NextRewardMismatchForUser","msg":"Reward candidate mismatch from user\'s next pending reward"},{"code":321,"name":"UserWellCollateralized","msg":"User is well collateralized, cannot liquidate"},{"code":322,"name":"LastUser","msg":"Cannot liquidate the last user"},{"code":323,"name":"IntegerOverflow","msg":"Integer overflow"},{"code":324,"name":"ConversionFailure","msg":"Integer overflow"},{"code":325,"name":"CannotHarvestUntilLiquidationGainsCleared","msg":"Cannot harvest until liquidation gains are cleared"},{"code":326,"name":"RedemptionsQueueIsFull","msg":"Redemptions queue is full, cannot add one more order"},{"code":327,"name":"RedemptionsQueueIsEmpty","msg":"Redemptions queue is empty, nothing to process"},{"code":328,"name":"RedemptionsAmountTooSmall","msg":"Redemptions amount too small"},{"code":329,"name":"CannotRedeemMoreThanMinted","msg":"Redemptions amount too much"},{"code":330,"name":"NeedToProcessFirstOrderBeforeOthers","msg":"The program needs to finish processing the first outstanding order before moving on to others"},{"code":331,"name":"RedemptionClearingOrderIsIncorrect","msg":"The bot submitted the clearing users in the wrong order"},{"code":332,"name":"CannotFillRedemptionOrderWhileInClearingMode","msg":"Current redemption order is in clearing mode, cannot fill it until it\'s fully cleared"},{"code":333,"name":"CannotClearRedemptionOrderWhileInFillingMode","msg":"Current redemption order is in filling mode, cannot clear it until it\'s filled"},{"code":334,"name":"InvalidRedemptionOrder","msg":"Redemption order is inactive"},{"code":335,"name":"OrderDoesNotHaveCandidates","msg":"Redemption order is empty of candidates"},{"code":336,"name":"WrongRedemptionUser","msg":"Redemption user is not among the candidates"},{"code":337,"name":"RedemptionFillerNotFound","msg":"Redemption user is not among the candidates"},{"code":338,"name":"DuplicateAccountInFillOrder","msg":"Duplicate Account in Fill Order"},{"code":339,"name":"RedemptionUserNotFound","msg":"Redemption user is not among the candidates"},{"code":340,"name":"MathOverflow","msg":"Mathematical operation with overflow"},{"code":341,"name":"PriceNotValid","msg":"Price is not valid"},{"code":342,"name":"LiquidationsQueueFull","msg":"Liquidation queue is full"},{"code":343,"name":"CannotDeserializeSumMap","msg":"Liquidation queue is full"},{"code":344,"name":"InvalidMint","msg":"Token mint is not correct"},{"code":345,"name":"InvalidVault","msg":"Token vault is not correct"}],"metadata":{"address":"8v1DhJaewvhbhDmptNrkYig7YFcExsRKteR3cYjLw2iy"}}')},476:function(e,t,n){},513:function(e,t){},514:function(e,t){},531:function(e,t){},532:function(e,t){},561:function(e,t){},563:function(e,t){},577:function(e,t){},581:function(e,t){},583:function(e,t){},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return g})),n.d(t,"d",(function(){return S})),n.d(t,"j",(function(){return m}));var a=n(3),r=n(22),i=99;new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8});var o=new Set(["USDC","wUSDC","USDT"]);function s(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,a){return e.slice(a*t,(a+1)*t)}))}var c=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),u=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),l={format:function(e,t){return e?t&&function(e){return e<.001&&e>0}(e)?.001:u.format(e):0}},b=(new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:9}),new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2})),d=function(e){switch(e){case"SOL":return 0;case"ETH":return 1;case"BTC":return 2;case"SRM":return 3;case"RAY":return 4;case"FTT":return 5}},p=function(e){return Number.isNaN(e)?0:e},y=function(){var e=Uint8Array.from([241,101,13,165,53,150,114,216,162,246,157,94,156,209,145,37,186,13,219,120,66,196,128,253,177,46,0,70,68,211,238,83,155,17,157,105,115,161,0,60,146,250,19,171,63,222,211,135,37,102,222,216,142,131,67,196,185,182,202,219,55,24,135,90]);return a.Keypair.fromSecretKey(e)};function g(e,t){var n=a.LAMPORTS_PER_SOL;switch(t){case"SOL":n=a.LAMPORTS_PER_SOL;break;case"ETH":n=r.b;break;case"BTC":n=r.a;break;case"SRM":n=r.e;break;case"RAY":n=r.d;break;case"FTT":n=r.c}return null!=e?0===e?0:e/n:-1}function S(e,t){var n=a.LAMPORTS_PER_SOL;switch(t){case"SOL":n=a.LAMPORTS_PER_SOL;break;case"ETH":n=r.b;break;case"BTC":n=r.a;break;case"SRM":n=r.e;break;case"RAY":n=r.d;break;case"FTT":n=r.c}return e*n}var m=function(e){return Number.isFinite(Number(e))}},593:function(e,t){},595:function(e,t){},622:function(e,t){},624:function(e,t){},629:function(e,t){},631:function(e,t){},638:function(e,t){},650:function(e,t){},653:function(e,t){},664:function(e,t){},665:function(e,t,n){},735:function(e,t,n){},737:function(e,t,n){},751:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(57),o=n.n(i),s=(n(476),n(74)),c=n(467),u=n(444),l=n(132);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(346);var b=n(103),d=n(209),p=n(56),y=n(78),g=n(136),S=n(179),m=n(261),A=n(22),f=(n(665),n(756)),T=n(215),w=n(26),h=n(753),E=n(759),O=n(113),P=n(760),_=n(761),k=n(169),v=n(752),I=n(8),M=n(10),j=n(3),L=n(212),R=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/",chainID:L.ENV.MainnetBeta},{name:"testnet",endpoint:Object(j.clusterApiUrl)("testnet"),chainID:L.ENV.Testnet},{name:"devnet",endpoint:Object(j.clusterApiUrl)("devnet"),chainID:L.ENV.Devnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",chainID:L.ENV.Devnet}],x=function(){function e(t){Object(I.a)(this,e),this._connection=void 0,this._sendConnection=void 0,this._endpoint=void 0,this._env=void 0;var n=R.find((function(e){return e.name===t}));if(void 0===n)throw Error("Invalid environment - ".concat(t));this._endpoint=n.endpoint,this._env=n.name,this._connection=new j.Connection(this._endpoint,"recent"),this._sendConnection=new j.Connection(this._endpoint,"recent")}return Object(M.a)(e,[{key:"endpoint",get:function(){return this._endpoint}},{key:"env",get:function(){return this._env}},{key:"connection",get:function(){return this._connection}},{key:"sendConnection",get:function(){return this._sendConnection}}]),e}(),C=n(151),N=n(19),K=function(){var e=Object(C.a)(),t=e.env,n=e.setEnv,a=e.walletConnected,r=e.disconnectWallet;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{style:{display:"grid"},children:["Network:"," ",Object(N.jsx)(v.a,{onSelect:n,value:t,style:{marginBottom:20},children:R.map((function(e){var t=e.name;return Object(N.jsx)(v.a.Option,{value:t,children:t},t)}))}),a&&Object(N.jsx)(O.a,{type:"primary",onClick:r,children:"Disconnect"})]})})},D=(n(735),n(337),[{id:"BORROW",label:A.g.MENU_BORROW,link:"/"},{id:"DASHBOARD",label:A.g.MENU_DASHBOARD,link:"/dashboard"},{id:"STABILITY",label:A.g.MENU_STABILITY,link:"/stability"},{id:"STAKE",label:A.g.MENU_STAKE,link:"/staking"},{id:"LIQUIDATIONS",label:A.g.MENU_LIQUIDATIONS,link:"/liquidations"}]),B=function(){var e=Object(p.h)().pathname,t=Object(a.useState)(null),n=Object(w.a)(t,2),r=n[0],i=n[1],o=Object(C.a)().env;return Object(a.useEffect)((function(){var t=!1;D.forEach((function(n){n.link===e&&(i(n.id),t=!0)})),t||i(null)}),[e,i]),Object(N.jsx)("div",{className:"app-bar",children:Object(N.jsxs)("div",{className:"app-min-bar",children:[Object(N.jsx)("div",{className:"app-bar-left",children:Object(N.jsx)(k.a,{to:"/",children:Object(N.jsx)("div",{className:"app-title item-center",children:Object(N.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAABBCAYAAACaTpXhAAAACXBIWXMAABJ0AAASdAHeZh94AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAApiSURBVHja7J1/jBXVFcc/ko0xG0I2dGOoIeRJKdWWGkRELJSoRUobSpSwimjF1lJsKP6iWwulMcRQtdRSbIkRsolKaOWnrVJrEVRaaytVSqxSi8q+EmobsqFbQw0lhOkf99y8u5c78+a9N/Pe2+V8k5eZeff33O+cOffec8+cFUURDcRY4M8NKPcyYA+KAYVBDSx7HfBUg8reCKzX7h9YOKtBkvlFoCDnrwC/A06kSPchcDbQUkWZpyTdJOAK+e8ocInSQMlcLZYBtwIngfnASw1o9xjgl/JmehZYqFRQMleKVuAtOb8XeKKBbZ8CPC7nk4D3lQ6qM1eCDaJeHG4wkQF+C+yV+nQpFZTMlWCs/IqiXjQD5kl9LnD0aIWSuSzWiRT8I/B2k7T/GPCknK9SOiiZ0+AWoF2k4Jeb7B4skWMbcLdSQslcDvfK8RHMLEazoVOOi5QSSuYkrJTjSeAHTXoftgA9cq6DQSVzEEOB2XK+uA7tGVJDWjsovQoYqdRQMvtYL4O+IvB0juWcA6zGrPJVi30yOC1Qmn9WKJkBmAx8ssJB3yzgvCrK+os8OMdqrPONUt/hwAylh5LZYo0cX8AskqTBQuBROR+XMs07mOm11zKo8ymn3g8pPZTMAF919NdbK0jXirGbWCWkHl4m/uMY46HvZVj3HwIfYAyavqUUUTJbclWyENEGDBOd9U5gPGbFMA7TMfYVHTnU/w7gOHChUuTMJvMjcjwGPFxBut7AAG5MTNxrpJyCqBeDM27DSxjT1GeUImcumYeJxLTSrVLs964/EYgzWCR+Qa4jp8wssQjYqRQ5c8lsreIOyMCvUrzpXZ8biNPlENnq5NtyuDcfUvvsiKKfknk6ZrGhCNxQZR7/LEPmIcAE77+PUdv8cjnsArqd38qU6UYNcO40XftaMszLTmU9jdmOVA0+EpCOLjo9qVwEVqTMe7w8CCdktmKPpE9CuzygbplTU3TyPZLucwOUxE3ZvqzIfDdmWq1aXdlihHd90Lu+ybt+OUB4F6NFDZmJWSX0H4SfAd9NSD/VSwNm1qWdki2H28kPYubHC1WqWc1O4qZuX0tGeVhrs/trzKvXu/7AOf+iF1bELGGHMEakx+QAGS0KwFzg78DamDhW8vwBuNxJN5WSHbQr+WcNYLWi6duXhc5sB2S9CaRIiyEJasYXPGKeILzqtxwzpXZTApFdQi8pI5kB7gKOOP83akf3BBrrHmJADwALmIWLItlshWpNCPuMd/2cdz0L+CtwcwyJi8AbwPaArrwshjjIoO9V4NdO2GwvbnfgrTRS/t/l/T8Ns+um2/vNEfXFf7W7cTZKvhO8PNY5fTnHS7M05n5WUo+82ufe65Ve/F2SJj2iKKrl91BksKHGfOxvQ9QXD8r/LVEUdXthMyRsZhRFuwPhFt1RFL0YRdF1Tjm/8uJsDdRlqYQ9INcdXp4TvPhzvDx3BfJcl1BPm+80J/6oQBybR3egvK2BsO4oim6rsR55tc/e56S+W5mWP4MyeO1Bft6BrKS+ICBtOzFuC1bL26EQkMQ7McZLVwKbnLDnU7yh7DL5FjnuAP7nvJHGVdiWpTEDSv9N92iZN+ZQ4HwZjLm4CnhdwnZ6eV6SQz2yaN80eaMnjWtmJ0j0TNUMW8jhjMjr18cuWvwroBpMwZiYhkj8tgwAr8Y4eSEm3zj1pl1mLd5z9PL/ALudOFdX2LaOFDq87cCvJ4RvjhksF4EHHLUg73pkke/4MmluAC4NzBzlQuYDcrwoJ8n8bzn2kM5Ji51uu9CTxD6GlcnHSpj35cbb33EnTiWSeZQ8HD4pr5DfZi8saYCZZOp6qo71yCLfcusRm9ISOYupueeFyIuFRLXiLe/aJfC1GB91rZw+X9wrN+xh0i1Bf7zMlKBVMT4rPxIGUTtSlDcyIIHWeJK+w4ufB/KqR7X5rgUWEG8d+Z6E76gHmX8qRB6KWTj5UY35+W5mXfXlCPApjNuCEZgNslal2FthOf7MiO9WN43ULYiqsQNFtTgl93BjzANhdexUhM5i0WQ1ZtVvUQZk9rdMhV5Dj9VYxsRAu9/0pC3EL3UXPHUkDQ5Kfm7ahTHnNn4eyKseteTbg1mcmgP8POZ+143MP5YRaavMatTi5KXdUx8O5NChCwNqyiuBgV1o4HEbJXttiF/a9vFujCoTt7Hg9ZzInFc9qs2327nnT8aQmYA+nssA0GKBHCdj7CGqxUeBL1Hyr3E8484cIXX0O+KoJ217Ywi615PYhQqk82bKGzbZh2st+SGvelST7065h+9g7NLjsLeeZH5ZpGiB2pyovIpZofsv+XymYVVAKnd6b4Y2Sptqy+n07sj8oNeZdoXM6uPfl84rlunoBeRr0lptPfJo35IUD8A+Tp9Tz03NsJiHMcgZjtnW9Isq8tjmzCKsybgT2wIDuyNysyxmp5AEfthUh+gL5Ma3OXHvceLOF528IyDRlwgZegIESCJHNWHV1COP9vVg7NGvk3zaAmk2pX24s3Y2/hOMv4lTUslKMYjSdv9Oks07qxmo3u519h3k65xGUUdkbYG1yMl3eYVphzpPYFfGRG7D2DS72K9EVjKXg7WuuhnjeyItjjqqz7sZ1+mpgK58fYrBouIMJ/NakaqFhKmWJJykr1F+rVgaIPJ2klcKl2JsPxRnOJnBbFUqyoBrXAPbN4WwVVaSH+ZzMXPlVyo9lMxgvGnuobQc2Qi0YNx3+VK5nAekLozJaavSQ8nsS+d2Kt0xkA3WB4g8n2Srs4mY/YNFzFYphZIZRCft8gaF9cJMIaZL5NWU91Bk3yLPYmyoFf0I9fio5d9kVmMLfVfb8sJFmK+vFhwiPwd8o0y6b1Ly7n++UkMlcwj3yXE2KQ1GasB5ASLvT0FkHCLfr7RQyVxOOo/GLHFfW4dyLJEPk2xcb7EG45fjGPBppYVK5nJSr4jZUTA5pzL+RN9Fmt6URB5BycHMAqWEkrkctmOsrgr0tQfOAkMx1lvtjnqxD7gsZXo7fbePvnbNCiVzLL4i0nkw8Y5JKsVYjKF3wSHyGxizzBMp0k+n9DWseUoHJXNaHKLkbG9+BmVPp6/NRRGzUHM56e2BrefSbWS7hK4Y4GSG0sd6CsDWGvK5RQZtLpEPiGqR1tpuBaVVvsVKBSVzNbjLGQx2Ufl3/1Zg7JBHOkR+Afh8BXksw3gAhb7G5Yp+jHpNzYUIOdfRVw85EvVsIfgRjOdPV9I+I+rAXIfIT1D60LyLDfKwuh+ePwfjRQdHvVCprGSuGTMwCyptnG5DcQhjEGTdyLYCv8dsmlzhxFtO2PXAbsyUWyEQVsTYTq/kdB/LCiVzTZiIsVKzKs9rMiNhcQ1m39loj5AdxBsN3U7YXvmE6NZ7tOuVzPVEC/AdzHdO7nRI3CP68VHtPkWjB4BpMASzuLKHkilmEWPVdqkSWdHfJLPFGsyOkRs99UOhOO1V3qxoBX6DWQZX4x9FvyXzfRhP8Ksoea5XKPoVmUdhpttagEnaPYr+SuZvAxdj7C02adco+iOZv4bZpvQPqv/mtkLB/wcAAoPSgHG1uF8AAAAASUVORK5CYII=",alt:"Atomotos-Sol"})})})}),Object(N.jsx)(h.a,{className:"app-bar-center",style:{flexGrow:1},theme:"dark",mode:"horizontal",expandIcon:Object(N.jsx)(P.a,{}),selectedKeys:null!==r?[r]:[],children:D.map((function(e){return Object(N.jsxs)(h.a.Item,{className:"menuback",children:["".concat(e.label),Object(N.jsx)(k.a,{to:e.link})]},e.id)})).filter((function(e){return e}))}),Object(N.jsxs)("div",{className:"app-bar-right",children:[Object(N.jsx)("div",{className:"round-circle item-center",children:Object(N.jsx)(T.b,{type:"primary",className:"walletbutton-style"})}),Object(N.jsx)("div",{style:{marginLeft:10}}),Object(N.jsx)(E.a,{placement:"topRight",title:A.g.SETTINGS_TOOLTIP,content:Object(N.jsx)(K,{}),trigger:"click",children:Object(N.jsx)(O.a,{shape:"circle",size:"large",type:"text",icon:Object(N.jsx)(P.a,{})})}),"mainnet-beta"!==o?Object(N.jsx)(k.a,{to:"/airdrop",style:{marginTop:5,marginLeft:5},children:Object(N.jsx)(_.a,{style:{fontSize:18}})}):null]})]})})},V=n(757),F=n(762),G=(n(737),function(){return Object(N.jsxs)("div",{className:"footer-container",children:[Object(N.jsx)(V.a.Text,{type:"secondary",children:"Copyright \xa92021 Atomotos-Sol"}),Object(N.jsxs)("div",{style:{display:"flex"},children:[Object(N.jsx)(F.a,{style:{fontSize:"24px",marginLeft:"10px"}}),Object(N.jsx)("img",{alt:"discord",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFgSURBVHgBtZaNcYMwDIVNrwMwgkdgBDpBMwIbpCO0E4ROQLsBmYBskG5gOgHZQH0u5qJTZH6T7+4dPtmWZFmBGDMBEeVQBTmooyvnYN+ZtWDzXjgdw0HFEucWamgdjd8/J4CjbbhoIEyktD0AD5RqQQ50Xw6D72QoEx5OOeAPdIRqKINeoQvk139CLZRD+2CTvCRJchpOUdHcIy8rdckXaa1amAX49YqP7j9R6n9sN6cwK4gkmz+ZvtaSo9ickWhLzQa+FV/WB9HqXjNnFo8z5HxWMZvcJ4No8HJZNk5HbJ7WKDxrE2i7XzY+IduPMK5jtjBuYZfuLurFmw1oFz/0eBdrX+rfZ+8hGctsebBnbO1O+Ol49FLJoGIXXZFOFeZ9wCY2b9iiGFPfFDcyZ2UtS7ovpXZhj3/Vswt1tA1HM7+ODa2jmQwgghU0/1S+Od7MWqjv/S/q/wJxp45Ym4/xBy3D7Gnn7kJ8AAAAAElFTkSuQmCC",style:{width:"24px",height:"24px",marginLeft:"10px",borderRadius:"15px"}}),Object(N.jsx)("img",{alt:"twitter",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFcSURBVHgBtZWBccMgDEVxrwN4g7JBMgLdICN4A3uDjhB3AtoNugHdINkAb+Bs8CvOcMUUYcdx353OORD6gkggxAIAFJkms2Qjfrn48ZPYCi1uk6AlLFlzT3BJZrAN49avEbB4DMsK0USNxwVioToncsa+nEPsKhwTfaxYz43snexKJslaMpf5QHaM/F6rqvoOu9CZTE6YyjSHzBz1MePfx065Un3xi/tk/Cu3Ne+rE18Xtw7NlqOLAkgvZmbZzUU6Jo56Ts4w5hB+0LkO9OlEmZoZl0+FyU9xH4eSCIfGUvd6MPWE4uadyMDMSbIWuab6i7skOb9bScShxAJ+t28Fl2sovdJta8Fc537tpbB2jJ37jIPBVPeK28GCgEPHCxQj0iD6833m4RFbg0wz67EvPXe+FvtgwVUl/vvRSoQMtmGwsoGDWIP1u3It0ImtYHpXPjAv19EnoMGUeMwP2LjVtE42d9kAAAAASUVORK5CYII=",style:{width:"24px",height:"24px",marginLeft:"10px"}}),Object(N.jsx)("img",{alt:"telegram",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFPSURBVHgBtVaBbYMwEHyqDkA3YIN2BLMBI6QTpJ0AOkHYINmg6gTQCTKCs0GyweUsjGIh2xiSnHQC7Pcdfr8NIjMAoMg9qckzbjja9krWgoO3E9EYNLlZIl6QHdahM+NTDDTugw4asSPH/QauUe4z2eGx2PnS9Awoo/9ifWpZh578JstAf+XOJLVUYWPb8S0djVBsPm62VPEGngXFUDQhqFfGfMh8Sn6yLOsd0S0vbMpa2xTTKMya5J6OC3kgSwqVowHsRuXtm2OQZOKDEf70vP2R/Gd7MxWSCEy6Tp72X4r2vP7ZZ2OgZEhb44l/lzAuSxa+C6kgXp1qrIzUEq49BrHKOruBLdKh4RyAiGdiL4mBIdR2bOzMK6bTXjKbFLQSyK3GY6DhO+qt0XM/WhOjDuvQzRpMzDZIn5XZAl+yFhxckQcMv0CuqMbwS6TmNK4VI2K3jSZ8nwAAAABJRU5ErkJggg==",style:{width:"24px",marginLeft:"10px"}})]})]})});var U=function(){var e=Object(y.b)().publicKey;return{publicKey:e?e.toBase58():null}},H=f.a.Header,q=f.a.Content,W=f.a.Footer,Y={main:r.a.memo((function(e){var t=e.children,n=U().publicKey,r=Object(C.a)(),i=r.env,o=r.setEnv,s=r.walletPublicKey,c=r.connectWallet,u=r.disconnectWallet;return Object(a.useEffect)((function(){o(i)}),[]),Object(a.useEffect)((function(){null!==n?n!==s&&c():null!==s&&u()}),[n,s]),Object(N.jsx)(T.a,{children:Object(N.jsxs)(f.a,{className:"main-layout",children:[Object(N.jsx)(H,{className:"main-layout-header",children:Object(N.jsx)(B,{})}),Object(N.jsxs)(q,{className:"main-layout-content",children:[Object(N.jsx)("div",{className:"child-container",children:t}),Object(N.jsx)(W,{className:"main-layout-footer",children:Object(N.jsx)(G,{})})]})]})})}))},Q=r.a.memo((function(e){var t=e.children,n=e.title,a=Y.main;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{titleTemplate:"".concat(A.g.APP_TITLE," ").concat(A.g.APP_TITLE_EMOJI," | %s"),title:n}),Object(N.jsx)(a,{children:t})]})}));var z=Object(p.i)((function(e){return e.history.listen((function(e){d.a.set({page:e.pathname}),d.a.pageview(e.pathname)})),Object(N.jsx)("div",{})})),Z=[{path:"/airdrop",Component:Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(15)]).then(n.bind(null,854))})),exact:!0,title:A.g.PAGE_AIRDROP},{path:"/",Component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,862))})),exact:!0,title:A.g.PAGE_AIRDROP},{path:"/farms",Component:Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(16),n.e(13)]).then(n.bind(null,863))})),exact:!0,title:A.g.PAGE_FARMS},{path:"/dashboard",Component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(19),n.e(10)]).then(n.bind(null,860))})),exact:!0,title:A.g.PAGE_DASHBOARD},{path:"/liquidations",Component:Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(12)]).then(n.bind(null,864))})),exact:!0,title:A.g.PAGE_LIQUIDATIONS},{path:"/stability",Component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(2),n.e(14)]).then(n.bind(null,865))})),exact:!0,title:A.g.PAGE_STABILITY},{path:"/redeem",Component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(18)]).then(n.bind(null,855))})),exact:!0,title:A.g.PAGE_REDEEM},{path:"/stake",Component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(2),n.e(6)]).then(n.bind(null,856))})),exact:!0,title:A.g.PAGE_STAKE},{path:"/404",Component:Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(17)]).then(n.bind(null,866))})),exact:!0,title:A.g.PAGE_NOT_FOUND},{path:"/staking",Component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(2),n.e(6)]).then(n.bind(null,856))})),exact:!0,title:A.g.STAKING_PAGE}];function J(e){var t=e.history,n=Object(a.useMemo)((function(){return[Object(g.c)(),Object(g.d)(),Object(g.g)({options:{clientId:"BOM5Cl7PXgE9Ylq1Z1tqzhpydY0RVr8k90QQ85N7AKI5QGSrr9iDC-3rvmy0K_hF0JfpLMiXoDhta68JwcxS1LQ"}}),Object(g.a)(),Object(g.f)(),Object(g.b)(),Object(g.e)()]}),[]);return Object(N.jsxs)(S.a,{history:t,children:[Object(N.jsx)(y.a,{wallets:n,autoConnect:!0,children:Object(N.jsx)(Q,{children:Object(N.jsxs)(p.d,{children:[Z.map((function(e){var t=e.path,n=e.Component,r=e.exact,i=e.title;return Object(N.jsx)(p.b,{path:t,exact:r,render:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(a.Suspense,{fallback:null,children:[Object(N.jsx)(m.a,{title:i}),Object(N.jsx)(n,{})]})})}},t)})),Object(N.jsx)(p.a,{to:"/404"})]})})}),Object(N.jsx)(z,{})]})}d.a.initialize("G-QNFK7LF1L4");var X=function(e){var t=e.history,n=e.store;return Object(N.jsx)(b.a,{store:n,children:Object(N.jsx)(J,{history:t})})},$=n(20),ee={SET_STATE:"hubble/borrow/SET_STATE",GET_BORROWING_MARKET_STATE:"hubble/borrow/GET_BORROWING_MARKET_STATE",GET_USER_VAULTS:"hubble/borrow/GET_USER_VAULTS",CREATE_LOAN_DEPOSIT_BORROW:"hubble/borrow/CREATE_LOAN_DEPOSIT_BORROW",GET_STABILITY_POOL_STATE:"hubble/borrow/GET_STABILITY_POOL_STATE",GET_STABILITY_PROVIDER_STATE:"hubble/borrow/GET_STABILITY_PROVIDER_STATE",AIRDROP_USDH:"hubble/borrow/AIRDROP_USDH",AIRDROP_HBB:"hubble/borrow/AIRDROP_HBB",APPROVE_STABILITY:"hubble/borrow/APPROVE_STABILITY",PROVIDE_STABILITY:"hubble/borrow/PROVIDE_STABILITY",WITHDRAW_STABILITY:"hubble/borrow/WITHDRAW_STABILITY",HARVEST_LIQUIDATION_GAINS:"hubble/borrow/HARVEST_LIQUIDATION_GAINS",TRY_LIQUIDATE:"hubble/borrow/TRY_LIQUIDATE",WITHDRAW_COLLATERAL:"hubble/borrow/WITHDRAW_COLLATERAL",DEPOSIT_COLLATERAL:"hubble/borrow/DEPOSIT_COLLATERAL",BORROW_STABLECOIN:"hubble/borrow/BORROW_STABLECOIN",REPAY_LOAN:"hubble/borrow/REPAY_LOAN",COFIRM_DIALOG:"hubble/borrow/CONFIRM"},te={userVaults:[],userVaultsLoading:!1,userVaultsLoadingError:!1,borrowingMarketState:null,borrowingMarketStateLoading:!1,borrowingMarketStateLoadingError:!1,borrowSubmitting:!1,borrowError:!1,stabilityPoolStatePubkey:null,stabilityPoolState:null,stabilityPoolStateLoading:!1,stabilityPoolStateLoadingError:!1,stabilityVaultsPubkey:null,stabilityVaults:null,stabilityProviderState:null,stabilityProviderStateLoading:!1,stabilityProviderStateLoadingError:!1,stabilityProviderStatePubkey:!1,borrowingMarketStatePubkey:null,stablecoinMintAuthorityPubkey:null,stablecoinMintPubkey:null,hbbMintPubkey:null,hbbMintAuthorityPubkey:null,epochToScaleToSum:null,airdropCounter:0,stabilityCounter:0,liquidationCounter:0,vaultsInteractionsCounter:0,confirmed:!1};function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type===ee.SET_STATE?Object($.a)(Object($.a)({},e),t.payload):e}var ae=n(343),re={SET_STATE:"hubble/stake/SET_STATE",STAKE_HBB:"hubble/stake/STAKE_HBB",UNSTAKE_HBB:"hubble/stake/UNSTAKE_HBB",HARVEST_REWARDS:"hubble/stake/HARVEST_REWARDS",APPROVE_STAKING:"hubble/stake/APPROVE_STAKING",GET_STAKING_POOL_STATE:"hubble/stake/GET_STAKING_POOL_STATE",GET_USER_STAKING_STATE:"hubble/stake/GET_USER_STAKING_STATE"},ie={stakingPoolStatePubkey:null,stakingPoolState:null,stakingPoolStateLoading:!1,stakingPoolStateLoadingError:!1,userStakingStatePubkey:null,userStakingState:null,userStakingStateLoading:!1,userStakingStateLoadingError:!1,stakeSubmitting:!1,stakeError:!1,stakingCounter:0};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return t.type===re.SET_STATE?Object($.a)(Object($.a)({},e),t.payload):e}var se=n(344),ce={SET_STATE:"web3/SET_STATE",CONNECT_WALLET:"web3/CONNECT_WALLET",DISCONNECT_WALLET:"web3/DISCONNECT_WALLET",WALLET_CONNECTED:"web3/WALLET_CONNECTED",WALLET_DISCONNECTED:"web3/WALLET_DISCONNECTED",SET_ENV:"web3/SET_ENV",CLIENT_CONNECTED:"web3/CLIENT_CONNECTED"},ue={env:localStorage.getItem("web3.env")?localStorage.getItem("web3.env"):R[0].name,walletConnected:!1,walletPublicKey:null};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return t.type===ce.SET_STATE?Object($.a)(Object($.a)({},e),t.payload):e}var be=n(345),de=n(1),pe=n.n(de),ye=n(4),ge=n(72),Se=n(25),me=pe.a.mark(Ae);function Ae(e,t){var n,a,r,i,o,s,c,u,l,b,d,p,y=arguments;return pe.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:n=y.length>2&&void 0!==y[2]?y[2]:{},a=n.createContext,r=void 0===a?function(e){return{env:e.env,client:e.client,publicKey:e.publicKey,signTransaction:e.signTransaction,signAllTransactions:e.signAllTransactions}}:a,i=[];case 2:return g.next=5,Object(ye.k)(t);case 5:if(o=g.sent,s=o.payload,c=s.env,u=s.client,l=s.publicKey,b=s.signTransaction,d=s.signAllTransactions,!i){g.next=10;break}return g.next=10,Object(ye.c)(i);case 10:return g.next=12,Object(ye.b)(r,{env:c,client:u,publicKey:l,signTransaction:b,signAllTransactions:d});case 12:return p=g.sent,g.next=15,Object(ye.j)(p);case 15:return g.next=17,Object(ye.a)(e.map((function(e){return Object(ye.f)(pe.a.mark((function t(){var n,a,r,i,o=arguments;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=!1,a=o.length,r=new Array(a),i=0;i<a;i++)r[i]=o[i];case 2:if(n){t.next=20;break}return t.prev=3,t.next=6,ye.b.apply(void 0,[e].concat(r));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.warn("Error in saga:",t.t0);case 11:return t.prev=11,t.next=14,Object(ye.d)();case 14:if(!t.sent){t.next=17;break}console.info("Cancelling saga:",e.name),n=!0;case 17:return t.finish(11);case 18:t.next=2;break;case 20:case"end":return t.stop()}}),t,null,[[3,8,11,18]])})))})));case 17:i=g.sent,g.next=2;break;case 20:case"end":return g.stop()}}),me)}var fe=n(44),Te=n(462),we=function(){function e(t,n,a){Object(I.a)(this,e),this._client=void 0,this._provider=void 0,this.newClient=function(e,t,n){return new fe.b(Te,new j.PublicKey(t),n)},this._provider=new fe.c(t.sendConnection,a,{commitment:"recent"}),this._client=this.newClient(t,n,this._provider)}return Object(M.a)(e,[{key:"client",get:function(){return this._client}},{key:"provider",get:function(){return this._provider}}]),e}(),he=n(11),Ee=n(275),Oe=n(184),Pe=n(28),_e=n(7),ke=n(49),ve=n(59),Ie=function e(t){var n=this;Object(I.a)(this,e),this._borrowingClient=void 0,this.airdropUsdh=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s){var c;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._borrowingClient.client.rpc.airdropUsdh(new fe.a(t),{accounts:{initialMarketOwner:a.publicKey,borrowingMarketState:i,stablecoinAta:r,stablecoinMint:o,stablecoinMintAuthority:s,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID},signers:[a]});case 2:return c=e.sent,console.log("Airdrop done signature",c),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o){return e.apply(this,arguments)}}(),this.airdropHbb=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s){var c;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Minting Hbb",r.toString()),console.log("Minting Hbb",a.toString()),console.log("Minting Hbb",i.toString()),console.log("Minting Hbb",o.toString()),console.log("Minting Hbb",s.toString()),e.next=7,n._borrowingClient.client.rpc.airdropHbb(new fe.a(t),{accounts:{initialMarketOwner:r.publicKey,borrowingMarketState:i,userHbbAta:a,hbbMint:o,hbbMintAuthority:s,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,rent:fe.e.SYSVAR_RENT_PUBKEY},signers:[r]});case 7:return c=e.sent,console.log("Airdrop tx",c),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o){return e.apply(this,arguments)}}(),this.withdrawCollateral=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A){var f;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=o.map((function(e){return n.getWithdrawCollateralTransaction(t,a,r,i,e.collateralFrom,e.collateralFromAuthority,e.collateralTo,s,c,u,l,b,d,p,y,g,S,m,A,e.amount,e.ticker)})),e.abrupt("return",n._borrowingClient.provider.sendAll(f));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m){return e.apply(this,arguments)}}(),this.depositCollateral=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o){var s;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.map((function(e){return n.getDepositCollateralTransaction(t,a,r,i,e.collateralFrom,e.collateralTo,e.amount,e.ticker)})),e.abrupt("return",n._borrowingClient.provider.sendAll(s));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),this.borrowStablecoin=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h,E){var O;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O=n.getBorrowStablecoinTransaction(t,a,r,i,o,u,c,l,s,b,d,p,y,g,S,m,A,f,T,w,h,E),e.abrupt("return",n._borrowingClient.provider.send(O.tx));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h){return e.apply(this,arguments)}}(),this.newLoan=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h,E,O){var P,_,k,v;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P=j.Keypair.generate(),_=n.getApproveTroveTransaction(t,a,s,P),k=h.map((function(e){return n.getDepositCollateralTransaction(t,a,i,P.publicKey,e.ata,e.poolAccount,e.amount,e.ticker)})),v=n.getBorrowStablecoinTransaction(t,a,i,r,P.publicKey,c,s,u,o,l,b,d,p,y,g,S,m,A,f,T,w,E),e.abrupt("return",n._borrowingClient.provider.sendAll([].concat(Object(Pe.a)(O),[_],Object(Pe.a)(k),[v])));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h,E){return e.apply(this,arguments)}}(),this.repayLoan=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b){var d;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._borrowingClient.client.rpc.repayLoan(new fe.a(b),{accounts:{owner:t,borrowingMarketState:a,borrowingVaults:r,userMetadata:i,stablecoinMint:o,stablecoinBorrowingAssociatedAccount:s,burningVault:c,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,stablecoinMintAuthority:u,burningVaultAuthority:l}});case 2:return d=e.sent,console.log("RepayLoan done signature",d),e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l){return e.apply(this,arguments)}}(),this.getApproveTroveTransaction=function(e,t,a,r){return{tx:n._borrowingClient.client.transaction.approveTrove({accounts:{owner:e,userMetadata:r.publicKey,borrowingMarketState:t,stablecoinAta:a,rent:fe.e.SYSVAR_RENT_PUBKEY,systemProgram:fe.e.SystemProgram.programId}}),signers:[r]}},this.getDepositCollateralTransaction=function(e,t,a,r,i,o,s,c){return{tx:n._borrowingClient.client.transaction.depositCollateral(new fe.a(s),new fe.a(Object(ve.i)(c)),{accounts:{owner:e,borrowingMarketState:t,borrowingVaults:a,userMetadata:r,collateralFrom:i,collateralTo:o,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,systemProgram:fe.e.SystemProgram.programId}}),signers:[]}},this.getWithdrawCollateralTransaction=function(e,t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w){return console.log("Withdrawing ",w,T),{tx:n._borrowingClient.client.transaction.withdrawCollateral(new fe.a(T),new fe.a(Object(ve.i)(w)),{accounts:{owner:e,borrowingMarketState:t,borrowingVaults:a,userMetadata:r,collateralFrom:i,collateralFromAuthority:o,collateralTo:s,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,systemProgram:fe.e.SystemProgram.programId,pythSolProductInfo:c,pythSolPriceInfo:u,pythEthProductInfo:l,pythEthPriceInfo:b,pythBtcProductInfo:d,pythBtcPriceInfo:p,pythSrmProductInfo:y,pythSrmPriceInfo:g,pythRayProductInfo:S,pythRayPriceInfo:m,pythFttProductInfo:A,pythFttPriceInfo:f}}),signers:[]}},this.getBorrowStablecoinTransaction=function(e,t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h){return console.log("getBorrowStablecoinTransaction",h),{tx:n._borrowingClient.client.transaction.borrowStablecoin(new fe.a(h),{accounts:{owner:e,borrowingMarketState:t,borrowingVaults:a,stakingPoolState:r,userMetadata:i,stablecoinMint:o,stablecoinBorrowingAssociatedAccount:s,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,stablecoinMintAuthority:c,borrowingFeesVault:u,pythSolProductInfo:l,pythSolPriceInfo:b,pythEthProductInfo:d,pythEthPriceInfo:p,pythBtcProductInfo:y,pythBtcPriceInfo:g,pythSrmProductInfo:S,pythSrmPriceInfo:m,pythRayProductInfo:A,pythRayPriceInfo:f,pythFttProductInfo:T,pythFttPriceInfo:w,clock:fe.e.SYSVAR_CLOCK_PUBKEY}}),signers:[]}},this._borrowingClient=t},Me=function e(t){var n=this;Object(I.a)(this,e),this._borrowingClient=void 0,this.approveStability=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a){var r,i;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new j.Keypair,e.next=3,n._borrowingClient.client.rpc.stabilityApprove({accounts:{owner:t,stabilityProviderState:r.publicKey,stabilityPoolState:a,rent:fe.e.SYSVAR_RENT_PUBKEY,systemProgram:fe.e.SystemProgram.programId},signers:[r]});case 3:return i=e.sent,console.log("ApproveStability done signature:",i),e.abrupt("return",r.publicKey);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.provideStability=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u){var l;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._borrowingClient.client.rpc.stabilityProvide(new fe.a(u),{accounts:{owner:t,stabilityProviderState:a,stabilityPoolState:r,stabilityVaults:i,epochToScaleToSum:o,stablecoinStabilityPoolVault:s,stablecoinAta:c,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,clock:fe.e.SYSVAR_CLOCK_PUBKEY}});case 2:return l=e.sent,console.log("ProvideStability done signature:",l),e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c){return e.apply(this,arguments)}}(),this.harvestLiquidationGains=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h,E){var O;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._borrowingClient.client.rpc.harvestLiquidationGains({accounts:{owner:t,stabilityProviderState:a,stabilityPoolState:r,stabilityVaults:i,borrowingMarketState:o,epochToScaleToSum:s,liquidationsQueue:c,liquidationRewardsVaultSol:m,liquidationRewardsVaultSrm:A,liquidationRewardsVaultEth:f,liquidationRewardsVaultBtc:T,liquidationRewardsVaultRay:w,liquidationRewardsVaultFtt:h,hbbAta:y,hbbMint:g,hbbMintAuthority:S,srmAta:u,ethAta:l,btcAta:b,rayAta:d,fttAta:p,liquidationRewardsVaultAuthority:E,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,clock:fe.e.SYSVAR_CLOCK_PUBKEY}});case 2:return O=e.sent,console.log("HarvestLiquidationGains done signature:",O),e.abrupt("return",O);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h){return e.apply(this,arguments)}}(),this.clearLiquidationGains=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s){var c;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.map((function(e){return n.getClearLiquidationGainsTransaction(t,r,a,o,i,e.clearingAgentAta,e.collateralVault,e.liquidationRewardsVault,e.ticker)})),e.abrupt("return",n._borrowingClient.provider.sendAll(c));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o){return e.apply(this,arguments)}}(),this.getClearLiquidationGainsTransaction=function(e,t,a,r,i,o,s,c,u){return{tx:n._borrowingClient.client.transaction.clearLiquidationGains(new fe.a(Object(ve.i)(u)),{accounts:{clearingAgent:e,borrowingVaults:a,borrowingMarketState:t,liquidationsQueue:r,collateralVault:s,collateralVaultAuthority:i,liquidationRewardsVault:c,clearingAgentAta:o,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,clock:fe.e.SYSVAR_CLOCK_PUBKEY}}),signers:[]}},this.withdrawStability=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b){var d;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=n._borrowingClient.client.rpc.stabilityWithdraw(new fe.a(b),{accounts:{owner:t,borrowingMarketState:a,stabilityProviderState:r,stabilityPoolState:i,stabilityVaults:o,epochToScaleToSum:s,stablecoinStabilityPoolVault:c,stablecoinStabilityPoolVaultAuthority:u,stablecoinAta:l,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,clock:fe.e.SYSVAR_CLOCK_PUBKEY}}),console.log("WithdrawStability done signature:",d),e.abrupt("return",d);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l){return e.apply(this,arguments)}}(),this.tryLiquidate=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f){var T;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._borrowingClient.client.rpc.tryLiquidate({accounts:{liquidator:t,borrowingMarketState:a,stabilityPoolState:r,userMetadata:i,epochToScaleToSum:c,stabilityVaults:o,borrowingVaults:s,liquidationsQueue:p,stablecoinMint:u,stablecoinMintAuthority:l,stablecoinStabilityPoolVault:b,stablecoinStabilityPoolVaultAuthority:d,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,pythSolPriceInfo:y,pythBtcPriceInfo:g,pythEthPriceInfo:S,pythSrmPriceInfo:m,pythRayPriceInfo:A,pythFttPriceInfo:f,clock:fe.e.SYSVAR_CLOCK_PUBKEY}});case 2:return T=e.sent,console.log("TryLiquidate done signature:",T),e.abrupt("return",T);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A){return e.apply(this,arguments)}}(),this._borrowingClient=t},je=n(134),Le=pe.a.mark(De),Re=pe.a.mark(Be),xe=pe.a.mark(Ve),Ce=pe.a.mark(Fe),Ne=pe.a.mark(Ge),Ke=pe.a.mark(Ue);function De(e){var t,n,a,r,i,o,s,c,u,l,b;return pe.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,d.next=3,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinAtaLoading:!0,stablecoinAtaLoadingError:!1}});case 3:return n=t.publicKey,a=t.env,d.next=6,Object(ye.g)("tokenService");case 6:return r=d.sent,d.prev=7,d.next=10,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.stablecoinMint));case 10:return i=d.sent,d.next=13,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.mint.BTC));case 13:return o=d.sent,d.next=16,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.mint.ETH));case 16:return s=d.sent,d.next=19,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.mint.SRM));case 19:return c=d.sent,d.next=22,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.mint.FTT));case 22:return u=d.sent,d.next=25,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.mint.RAY));case 25:return l=d.sent,d.next=28,Object(ye.b)(r.findAta,new j.PublicKey(n),new j.PublicKey(he.a[a].borrowing.accounts.mint.HBB));case 28:return b=d.sent,d.next=31,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinAta:i,btcAta:o,ethAta:s,srmAta:c,fttAta:u,rayAta:l,hbbAta:b}});case 31:d.next=39;break;case 33:return d.prev=33,d.t0=d.catch(7),Object(Se.b)({message:"Failed to load stablecoin account",description:"Unexpected error when loading your stablecoin account",type:"error"}),console.error("Failed to load stablecoin ATA",d.t0),d.next=39,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinAtaLoadingError:!0,btcAtaLoadingError:!0,ethAtaLoadingError:!0,srmAtaLoadingError:!0,fttAtaLoadingError:!0,rayAtaLoadingError:!0,hbbAtaLoadingError:!0}});case 39:return d.next=41,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinAtaLoading:!1,btcAtaLoading:!1,ethAtaLoading:!1,srmAtaLoading:!1,fttAtaLoading:!1,rayAtaLoading:!1,hbbAtaLoading:!1}});case 41:case"end":return d.stop()}}),Le,null,[[7,33]])}function Be(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S;return pe.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.payload,m.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stablecoinBalanceLoading:!0,btcBalanceLoading:!0,ethBalanceLoading:!0,srmBalanceLoading:!0,fttBalanceLoading:!0,rayBalanceLoading:!0,hbbBalanceLoading:!0}});case 3:return n=t.stablecoinAta,a=t.ethAta,r=t.btcAta,i=t.srmAta,o=t.fttAta,s=t.rayAta,c=t.hbbAta,m.next=6,Object(ye.g)("tokenService");case 6:if(u=m.sent,m.prev=7,null!=n){m.next=12;break}m.t0=null,m.next=15;break;case 12:return m.next=14,Object(ye.b)(u.findBalance,n);case 14:m.t0=m.sent;case 15:if(l=m.t0,null!=a){m.next=20;break}m.t1=null,m.next=23;break;case 20:return m.next=22,Object(ye.b)(u.findBalance,a);case 22:m.t1=m.sent;case 23:if(b=m.t1,null!=r){m.next=28;break}m.t2=null,m.next=31;break;case 28:return m.next=30,Object(ye.b)(u.findBalance,r);case 30:m.t2=m.sent;case 31:if(d=m.t2,null!=i){m.next=36;break}m.t3=null,m.next=39;break;case 36:return m.next=38,Object(ye.b)(u.findBalance,i);case 38:m.t3=m.sent;case 39:if(p=m.t3,null!=o){m.next=44;break}m.t4=null,m.next=47;break;case 44:return m.next=46,Object(ye.b)(u.findBalance,o);case 46:m.t4=m.sent;case 47:if(y=m.t4,null!=s){m.next=52;break}m.t5=null,m.next=55;break;case 52:return m.next=54,Object(ye.b)(u.findBalance,s);case 54:m.t5=m.sent;case 55:if(g=m.t5,null!=c){m.next=60;break}m.t6=null,m.next=63;break;case 60:return m.next=62,Object(ye.b)(u.findBalance,c);case 62:m.t6=m.sent;case 63:return S=m.t6,m.next=66,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinBalance:l,ethBalance:b,btcBalance:d,srmBalance:p,fttBalance:y,rayBalance:g,hbbBalance:S}});case 66:m.next=74;break;case 68:return m.prev=68,m.t7=m.catch(7),Object(Se.b)({message:"Failed to load stablecoin balance",description:"Unexpected error when loading your stablecoin account",type:"error"}),console.error("Failed to load stablecoin balance",m.t7),m.next=74,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinBalanceLoadingError:!0,btcBalanceLoadingError:!0,ethBalanceLoadingError:!0,srmBalanceLoadingError:!0,fttBalanceLoadingError:!0,rayBalanceLoadingError:!0}});case 74:return m.next=76,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{stablecoinBalanceLoading:!1,btcBalanceLoading:!1,ethBalanceLoading:!1,srmBalanceLoading:!1,fttBalanceLoading:!1,rayBalanceLoading:!1,hbbBalanceLoading:!1}});case 76:case"end":return m.stop()}}),Re,null,[[7,68]])}function Ve(e){var t,n,a,r,i,o,s,c,u,l,b,d;return pe.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{createAtaSubmitting:!0,createAtaError:!1}});case 3:return n=t.ataCounter,a=t.owner,r=t.mint,i=t.token,o=n+1,p.next=7,Object(ye.g)("tokenService");case 7:return s=p.sent,p.prev=8,c=new j.PublicKey(a),u=new j.PublicKey(r),p.next=13,Object(ye.b)(s.findAtaWithCreateCallbackIfNotExists,c,u);case 13:if(l=p.sent,b={},null===l.createAta){p.next=40;break}return Object(Se.b)({message:"Creating new ".concat(i," account"),description:"Approve the transaction to create your new token account.",type:"info",key:"creatingAta",duration:0}),p.next=19,Object(ye.b)(l.createAta);case 19:d=p.sent,p.t0=i,p.next="USDH"===p.t0?23:"ETH"===p.t0?25:"BTC"===p.t0?27:"SRM"===p.t0?29:"FTT"===p.t0?31:"RAY"===p.t0?33:"HBB"===p.t0?35:37;break;case 23:return b={ataCounter:o,stablecoinAta:d},p.abrupt("break",37);case 25:return b={ataCounter:o,ethAta:d},p.abrupt("break",37);case 27:return b={ataCounter:o,btcAta:d},p.abrupt("break",37);case 29:return b={ataCounter:o,srmAta:d},p.abrupt("break",37);case 31:return b={ataCounter:o,fttAta:d},p.abrupt("break",37);case 33:return b={ataCounter:o,rayAta:d},p.abrupt("break",37);case 35:return b={ataCounter:o,hbbAta:d},p.abrupt("break",37);case 37:return Object(Se.a)("creatingAta"),p.next=40,Object(ye.h)({type:"hubble/core/SET_STATE",payload:b});case 40:p.next=48;break;case 42:return p.prev=42,p.t1=p.catch(8),Object(Se.b)({message:"Failed to create associated token account",description:"Unexpected error creating associated token account",type:"error"}),console.error("Failed to create vault",p.t1),p.next=48,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{}});case 48:case"end":return p.stop()}}),xe,null,[[8,42]])}function Fe(e){var t,n,a,r,i,o,s;return pe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.owner,a=t.mints,r=t.ataCounter,c.next=4,Object(ye.g)("tokenService");case 4:return i=c.sent,c.prev=5,c.next=8,Object(ye.b)(i.createAtas,n,a);case 8:o=c.sent,console.log("Atas",o),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(5),Object(Se.b)({message:"Failed to create associated token account",description:"Unexpected error creating associated token account",type:"error"}),console.error("Failed to create vault",c.t0);case 16:return s=Number.isNaN(r)?0:r+1,console.log("Setting state to ",s),c.next=20,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{ataCounter:s}});case 20:case"end":return c.stop()}}),Ce,null,[[5,12]])}function Ge(e){var t,n,a,r,i,o,s,c;return pe.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{createAtaSubmitting:!0,createAtaError:!1}});case 3:return n=t.mint,a=t.ata,r=t.amount,i=t.token,o=t.mintCounter,u.next=6,Object(ye.g)("tokenService");case 6:return s=u.sent,u.prev=7,Object(Se.b)({message:"Minting ".concat(i),description:"Approve the transaction to mint ".concat(i," your account"),type:"info",key:"mintingToAta",duration:0}),u.next=11,Object(ye.b)(s.mintTo,new j.PublicKey(n),new j.PublicKey(a),r);case 11:return Object(Se.a)("mintingToAta"),c={},u.next=15,Object(ye.h)({type:"hubble/core/SET_STATE",payload:c});case 15:u.next=23;break;case 17:return u.prev=17,u.t0=u.catch(7),Object(Se.b)({message:"Failed to mint token",description:"Unexpected error while minting tokens",type:"error"}),console.error("Failed to create vault",u.t0),u.next=23,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{mintCounter:o+1}});case 23:return u.next=25,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{mintCounter:o+1}});case 25:case"end":return u.stop()}}),Ne,null,[[7,17]])}function Ue(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.l)(je.a.GET_TOKENS_ATA,De),Object(ye.l)(je.a.CREATE_ATA,Ve),Object(ye.l)(je.a.CREATE_ALL_ATAS,Fe),Object(ye.l)(je.a.MINT_TOKEN,Ge),Object(ye.l)(je.a.GET_ATA_BALANCE,Be)]);case 2:case"end":return e.stop()}}),Ke)}var He=Object(ye.b)(Ae,[Ue],["web3/CLIENT_CONNECTED","web3/WALLET_CONNECTED","web3/WALLET_DISCONNECTED"],{createContext:function(e){var t=e.client,n=e.publicKey,a=e.signTransaction,r=e.signAllTransactions,i=null;return t&&n&&(i=new Oe.a(t,a,r,new j.PublicKey(n))),{tokenService:i}}}),qe=pe.a.mark(ut),We=pe.a.mark(lt),Ye=pe.a.mark(bt),Qe=pe.a.mark(dt),ze=pe.a.mark(pt),Ze=pe.a.mark(yt),Je=pe.a.mark(gt),Xe=pe.a.mark(St),$e=pe.a.mark(mt),et=pe.a.mark(At),tt=pe.a.mark(ft),nt=pe.a.mark(Tt),at=pe.a.mark(wt),rt=pe.a.mark(ht),it=pe.a.mark(Et),ot=pe.a.mark(Ot),st=pe.a.mark(_t),ct=pe.a.mark(kt);function ut(e){var t,n,a,r,i,o,s,c;return pe.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowingMarketStateLoading:!0,borrowingMarketStateLoadingError:!1}});case 3:return u.next=5,Object(ye.g)("stateService");case 5:return n=u.sent,a=t.env,u.prev=7,r=new j.PublicKey(he.a[a].borrowing.accounts.borrowingMarketState),i=new j.PublicKey(he.a[a].borrowing.accounts.stablecoinMint),u.next=12,Object(ye.b)(n.getMarket,r);case 12:return o=u.sent,s=o.stablecoinMintAuthority,c=o.hbbMintAuthority,u.next=17,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowingMarketState:o,borrowingMarketStatePubkey:r,stablecoinMintPubkey:i,stablecoinMintAuthorityPubkey:s,hbbMintAuthorityPubkey:c}});case 17:u.next=25;break;case 19:return u.prev=19,u.t0=u.catch(7),Object(Se.b)({message:"Failed to load borrowing market",description:"Unexpected error when loading the borrowing market",type:"error"}),console.error("Failed to load borrowing market state",u.t0),u.next=25,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowingMarketStateLoadingError:!0}});case 25:return u.next=27,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowingMarketStateLoading:!1}});case 27:case"end":return u.stop()}}),qe,null,[[7,19]])}function lt(e){var t,n,a,r,i,o,s,c,u;return pe.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.amount,a=t.stablecoinAta,r=t.borrowingMarketState,i=t.stablecoinMint,o=t.stablecoinMintAuthority,s=t.airdropCounter,l.next=4,Object(ye.g)("borrowingOperations");case 4:return c=l.sent,l.prev=5,u=Object(ve.h)(),l.next=9,Object(ye.b)(c.airdropUsdh,n,u,a,r,i,o);case 9:l.next=15;break;case 11:l.prev=11,l.t0=l.catch(5),Object(Se.b)({message:"Failed to airdrop",description:"Unexpected error when airdropping usdh",type:"error"}),console.error("Failed to airdrop usdh",l.t0);case 15:return l.next=17,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{airdropCounter:s+1}});case 17:case"end":return l.stop()}}),We,null,[[5,11]])}function bt(e){var t,n,a,r,i,o,s,c,u;return pe.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.amount,a=t.hbbAta,r=t.borrowingMarketState,i=t.hbbMint,o=t.hbbMintAuthority,s=t.airdropCounter,l.next=4,Object(ye.g)("borrowingOperations");case 4:return c=l.sent,l.prev=5,u=Object(ve.h)(),l.next=9,Object(ye.b)(c.airdropHbb,n,a,u,r,i,o);case 9:l.next=15;break;case 11:l.prev=11,l.t0=l.catch(5),Object(Se.b)({message:"Failed to airdrop",description:"Unexpected error when airdropping hbb",type:"error"}),console.error("Failed to airdrop hbb",l.t0);case 15:return l.next=17,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{airdropCounter:s+1}});case 17:case"end":return l.stop()}}),Ye,null,[[5,11]])}function dt(e){var t,n,a,r;return pe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{userVaultsLoading:!0,userVaultsLoadingError:!1}});case 3:return n=t.userPublicKey,i.next=6,Object(ye.g)("stateService");case 6:return a=i.sent,i.prev=7,i.next=10,Object(ye.b)(a.getUserVaults,n);case 10:return r=i.sent,i.next=13,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{userVaults:r}});case 13:i.next=21;break;case 15:return i.prev=15,i.t0=i.catch(7),Object(Se.b)({message:"Failed to load vaults",description:"Unexpected error when loading your vaults",type:"error"}),console.error("Failed to load user vaults",i.t0),i.next=21,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{userVaultsLoadingError:!0}});case 21:return i.next=23,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{userVaultsLoading:!1}});case 23:case"end":return i.stop()}}),Qe,null,[[7,15]])}function pt(e){var t,n,a,r,i,o,s,c,u,l,b,d,p;return pe.a.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:return t=e.payload,y.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowSubmitting:!0,borrowError:!1}});case 3:return y.next=5,Object(ye.g)("tokenService");case 5:return n=y.sent,y.next=8,Object(ye.g)("borrowingOperations");case 8:return a=y.sent,y.prev=9,r=t.env,i=t.owner,o=t.collateral,s=t.borrowStablecoinAmount,c=new j.PublicKey(i),u=new j.PublicKey(he.a[r].borrowing.accounts.stablecoinMint),y.next=15,Object(ye.b)(n.findAtaWithCreateTransactionIfNotExists,c,u);case 15:return l=y.sent,b=[],null!==l.createAtaTx&&(b=[l.createAtaTx]),Object(Se.b)({message:"Creating Loan",description:"Approve all transactions in your browser wallet popup to create your new loan",type:"info",key:"borrow",duration:0}),d=o.map((function(e){return{mint:new j.PublicKey(e.mint),ticker:e.ticker,amount:Object(ve.d)(e.amount,e.ticker),poolAccount:new j.PublicKey(he.a[r].borrowing.accounts.collateralVault[e.ticker]),ata:new j.PublicKey(e.ata)}})),y.next=22,Object(ye.b)(a.newLoan,c,new j.PublicKey(he.a[r].borrowing.accounts.borrowingMarketState),new j.PublicKey(he.a[r].borrowing.accounts.stakingPoolState),new j.PublicKey(he.a[r].borrowing.accounts.borrowingVaults),new j.PublicKey(he.a[r].borrowing.accounts.borrowingFeesAccount),l.ata,u,new j.PublicKey(he.a[r].borrowing.accounts.stablecoinMintAuthority),new j.PublicKey(he.a[r].borrowing.accounts.pythSolProductInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythSolPriceInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythEthProductInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythEthPriceInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythBtcProductInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythBtcPriceInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythSrmProductInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythSrmPriceInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythRayProductInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythRayPriceInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythFttProductInfo),new j.PublicKey(he.a[r].borrowing.accounts.pythFttPriceInfo),d,s,b);case 22:return p=y.sent,console.log("Borrow transactions",p),Object(Se.a)("borrow"),y.next=27,Object(ye.h)(Object(ge.d)("/dashboard"));case 27:Object(Se.b)({message:"Loan Created",description:"Loan successfully created",type:"success"}),y.next=36;break;case 30:return y.prev=30,y.t0=y.catch(9),Object(Se.b)({message:A.g.CREATE_LOAN_FAILED_MESSAGE,description:A.g.CREATE_LOAN_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to create loan",y.t0),y.next=36,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowError:!0}});case 36:return y.next=38,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowSubmitting:!1}});case 38:case"end":return y.stop()}}),ze,null,[[9,30]])}function yt(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y;return pe.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.payload,g.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowSubmitting:!0,borrowError:!1}});case 3:return n=t.amount,a=t.userPublicKey,r=t.env,i=t.userMetadata,o=t.stablecoinAta,s=t.vaultsInteractionsCounter,g.next=6,Object(ye.g)("borrowingOperations");case 6:return c=g.sent,g.prev=7,Object(Se.b)({message:"Repaying loan",description:"Repaying ".concat(n/A.j," USDH"),type:"info"}),u=new j.PublicKey(he.a[r].borrowing.accounts.borrowingMarketState),l=new j.PublicKey(he.a[r].borrowing.accounts.borrowingVaults),b=new j.PublicKey(he.a[r].borrowing.accounts.stablecoinMint),d=new j.PublicKey(he.a[r].borrowing.accounts.burningVault),p=new j.PublicKey(he.a[r].borrowing.accounts.stablecoinMintAuthority),y=new j.PublicKey(he.a[r].borrowing.accounts.burningVaultAuthority),g.next=17,Object(ye.b)(c.repayLoan,new j.PublicKey(a),u,l,i,b,o,d,p,y,n);case 17:Object(Se.b)({message:"Repayed loan",description:"Repayed ".concat(n/A.j," USDH"),type:"success"}),g.next=26;break;case 20:return g.prev=20,g.t0=g.catch(7),Object(Se.b)({message:A.g.REPAY_LOAN_FAILED_MESSAGE,description:A.g.REPAY_LOAN_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to repay loan",g.t0),g.next=26,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowError:!0}});case 26:return g.next=28,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{borrowSubmitting:!1,vaultsInteractionsCounter:s+1}});case 28:case"end":return g.stop()}}),Ze,null,[[7,20]])}function gt(e){var t,n,a,r,i,o,s,c,u,l;return pe.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.payload,b.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!1}});case 3:return b.next=5,Object(ye.g)("borrowingOperations");case 5:return n=b.sent,a=t.env,r=t.owner,i=t.collateral,o=t.userMetadata,s=t.vaultsInteractionsCounter,b.prev=7,c=new j.PublicKey(r),Object(Se.b)({message:"Withdrawing collateral",description:"Approve all transactions in your browser wallet popup to withdraw collateral",type:"info",key:"withdrawCollateral",duration:0}),u=i.map((function(e){return{ticker:e.ticker,amount:Object(ve.d)(e.amount,e.ticker),collateralFrom:new j.PublicKey(he.a[a].borrowing.accounts.collateralVault[e.ticker]),collateralFromAuthority:new j.PublicKey(he.a[a].borrowing.accounts.collateralVaultsAuthority),collateralTo:new j.PublicKey(e.ata)}})),b.next=13,Object(ye.b)(n.withdrawCollateral,c,new j.PublicKey(he.a[a].borrowing.accounts.borrowingMarketState),new j.PublicKey(he.a[a].borrowing.accounts.borrowingVaults),o,u,new j.PublicKey(he.a[a].borrowing.accounts.pythSolProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythSolPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythEthProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythEthPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythBtcProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythBtcPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythSrmProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythSrmPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythRayProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythRayPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythFttProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythFttPriceInfo));case 13:return l=b.sent,console.log("Withdraw collateral transactions",l),Object(Se.a)("withdrawCollateral"),Object(Se.b)({message:"Collateral withdrew",description:"Collateral successfully withdrew",type:"success"}),b.next=19,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!1}});case 19:b.next=27;break;case 21:return b.prev=21,b.t0=b.catch(7),Object(Se.b)({message:A.g.WITHDRAW_COLLATERAL_FAILED_MESSAGE,description:A.g.WITHDRAW_COLLATERAL_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to withdraw collateral",b.t0),b.next=27,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!0}});case 27:return b.next=29,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsInteractionsCounter:s+1}});case 29:case"end":return b.stop()}}),Je,null,[[7,21]])}function St(e){var t,n,a,r,i,o,s,c,u,l;return pe.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.payload,b.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!1}});case 3:return b.next=5,Object(ye.g)("borrowingOperations");case 5:return n=b.sent,a=t.env,r=t.owner,i=t.collateral,o=t.userMetadata,s=t.vaultsInteractionsCounter,b.prev=7,c=new j.PublicKey(r),Object(Se.b)({message:"Depositing collateral",description:"Approve all transactions in your browser wallet popup to deposit collateral",type:"info",key:"depositCollateral",duration:0}),u=i.map((function(e){return{ticker:e.ticker,amount:Object(ve.d)(e.amount,e.ticker),collateralFrom:new j.PublicKey(e.ata),collateralTo:new j.PublicKey(he.a[a].borrowing.accounts.collateralVault[e.ticker]),mint:new j.PublicKey(e.mint)}})),b.next=13,Object(ye.b)(n.depositCollateral,c,new j.PublicKey(he.a[a].borrowing.accounts.borrowingMarketState),new j.PublicKey(he.a[a].borrowing.accounts.borrowingVaults),o,u);case 13:return l=b.sent,console.log("Deposit collateral transactions",l),Object(Se.a)("depositCollateral"),Object(Se.b)({message:"Collateral deposited",description:"Collateral successfully deposited",type:"success"}),b.next=19,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!1}});case 19:b.next=27;break;case 21:return b.prev=21,b.t0=b.catch(7),Object(Se.b)({message:A.g.DEPOSIT_COLLATERAL_FAILED_MESSAGE,description:A.g.DEPOSIT_COLLATERAL_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to deposit collateral",b.t0),b.next=27,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!0}});case 27:return b.next=29,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsInteractionsCounter:s+1}});case 29:case"end":return b.stop()}}),Xe,null,[[7,21]])}function mt(e){var t,n,a,r,i,o,s,c,u;return pe.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!1}});case 3:return l.next=5,Object(ye.g)("borrowingOperations");case 5:return n=l.sent,a=t.env,r=t.owner,i=t.userMetadata,o=t.stablecoinAta,s=t.borrowStablecoinAmount,c=t.vaultsInteractionsCounter,l.prev=7,Object(Se.b)({message:"Borrowing USDH",description:"Borrowing ".concat(s/A.j," USDH"),type:"info",key:"borrowStablecoin",duration:0}),l.next=11,Object(ye.b)(n.borrowStablecoin,new j.PublicKey(r),new j.PublicKey(he.a[a].borrowing.accounts.borrowingMarketState),new j.PublicKey(he.a[a].borrowing.accounts.borrowingVaults),new j.PublicKey(he.a[a].borrowing.accounts.stakingPoolState),new j.PublicKey(i),new j.PublicKey(he.a[a].borrowing.accounts.borrowingFeesAccount),new j.PublicKey(o),new j.PublicKey(he.a[a].borrowing.accounts.stablecoinMint),new j.PublicKey(he.a[a].borrowing.accounts.stablecoinMintAuthority),new j.PublicKey(he.a[a].borrowing.accounts.pythSolProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythSolPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythEthProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythEthPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythBtcProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythBtcPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythSrmProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythSrmPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythRayProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythRayPriceInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythFttProductInfo),new j.PublicKey(he.a[a].borrowing.accounts.pythFttPriceInfo),s);case 11:return u=l.sent,console.log("Borrow stablecoin transactions",u),Object(Se.a)("borrowStablecoin"),Object(Se.b)({message:"Borrowed USDH",description:"Borrowed ".concat(s/A.j," USDH"),type:"success"}),l.next=17,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!1}});case 17:l.next=25;break;case 19:return l.prev=19,l.t0=l.catch(7),Object(Se.b)({message:A.g.BORROW_STABLECOIN_FAILED_MESSAGE,description:A.g.BORROW_STABLECOIN_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to borrow stablecoin",l.t0),l.next=25,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsError:!0}});case 25:return l.next=27,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{vaultsInteractionsCounter:c+1}});case 27:case"end":return l.stop()}}),$e,null,[[7,19]])}function At(e){var t,n,a,r,i,o,s,c,u,l,b;return pe.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,d.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!0,stabilityProviderStateLoadingError:!1}});case 3:return n=t.env,a=t.userPublicKey,r=t.stabilityPoolState,i=t.hbbAta,o=t.stablecoinAta,s=t.stabilityCounter,d.next=6,Object(ye.g)("stabilityOperations");case 6:if(c=d.sent,d.prev=7,Object(Se.b)({message:"Approving provide stability",description:"Approve the transaction in your browser wallet popup to approve stability",type:"info",key:"approveStability",duration:0}),o){d.next=13;break}return u={token:"USDH",mint:new j.PublicKey(he.a[n].borrowing.accounts.stablecoinMint)},d.next=13,Object(ye.b)(Ve,{payload:{owner:a,env:n,mint:u.mint,token:u.token}});case 13:if(i){d.next=17;break}return l={token:"HBB",mint:new j.PublicKey(he.a[n].borrowing.accounts.mint.HBB)},d.next=17,Object(ye.b)(Ve,{payload:{owner:a,env:n,mint:l.mint,token:l.token}});case 17:return d.next=19,Object(ye.b)(c.approveStability,a,r);case 19:return b=d.sent,Object(Se.a)("approveStability"),Object(Se.b)({message:"Stability Approved",description:"Approved stability successfully",type:"success"}),d.next=24,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStatePubkey:b}});case 24:d.next=33;break;case 26:return d.prev=26,d.t0=d.catch(7),Object(Se.a)("approveStability"),Object(Se.b)({message:"Approving provide stability failed",description:"Please check your have enough SOL in your wallet.",type:"error"}),console.error("Failed to create vault",d.t0),d.next=33,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoadingError:!0}});case 33:return d.next=35,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!1,stabilityCounter:s+1}});case 35:case"end":return d.stop()}}),et,null,[[7,26]])}function ft(e){var t,n,a,r,i,o,s,c,u;return pe.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityPoolStateLoading:!0,stabilityPoolStateLoadingError:!1}});case 3:return l.next=5,Object(ye.g)("stateService");case 5:return n=l.sent,a=t.env,l.prev=7,r=new j.PublicKey(he.a[a].borrowing.accounts.stabilityPoolState),i=new j.PublicKey(he.a[a].borrowing.accounts.stabilityVaults),o=new j.PublicKey(he.a[a].borrowing.accounts.epochToScaleToSum),l.next=13,Object(ye.b)(n.getStabilityPoolState,r);case 13:return s=l.sent,l.next=16,Object(ye.b)(n.getStabilityVaults,i);case 16:return c=l.sent,l.next=19,Object(ye.b)(n.getEpochToScaleToSum,o);case 19:return u=l.sent,s.cumulativeGainsTotal.sol=s.cumulativeGainsTotal.sol.toNumber(),s.cumulativeGainsTotal.eth=s.cumulativeGainsTotal.eth.toNumber(),s.cumulativeGainsTotal.btc=s.cumulativeGainsTotal.btc.toNumber(),s.cumulativeGainsTotal.srm=s.cumulativeGainsTotal.srm.toNumber(),s.cumulativeGainsTotal.ray=s.cumulativeGainsTotal.ray.toNumber(),s.cumulativeGainsTotal.ftt=s.cumulativeGainsTotal.ftt.toNumber(),s.cumulativeGainsTotal.hbb=s.cumulativeGainsTotal.hbb.toNumber(),s.totalUsdDeposits=s.stablecoinDeposited.toNumber(),l.next=30,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityPoolState:s,stabilityPoolStatePubkey:r,stabilityVaultsPubkey:i,stabilityVaults:c,epochToScaleToSum:u}});case 30:l.next=38;break;case 32:return l.prev=32,l.t0=l.catch(7),Object(Se.b)({message:"Failed to load stability pool state",description:"Unexpected error when loading the stability pool state",type:"error"}),console.error("Failed to load stability pool state",l.t0),l.next=38,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityPoolStateLoadingError:!0}});case 38:return l.next=40,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityPoolStateLoading:!1}});case 40:case"end":return l.stop()}}),tt,null,[[7,32]])}function Tt(e){var t,n,a,r,i,o;return pe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!0,stabilityProviderStateLoadingError:!1}});case 3:return n=t.userPublicKey,a=t.env,s.next=6,Object(ye.g)("stateService");case 6:return r=s.sent,s.prev=7,i=he.a[a].borrowing.accounts.stabilityPoolState,s.next=11,Object(ye.b)(r.getStabilityProviderState,n,i);case 11:return o=s.sent,s.next=14,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderState:null===o?null:o.account,stabilityProviderStatePubkey:null===o?null:o.publicKey}});case 14:s.next=22;break;case 16:return s.prev=16,s.t0=s.catch(7),Object(Se.b)({message:"Failed to load stability provider state",description:"Unexpected error when loading stability provider state",type:"error"}),console.error("Failed to load stability provider state",s.t0),s.next=22,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoadingError:!0}});case 22:return s.next=24,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!1}});case 24:case"end":return s.stop()}}),nt,null,[[7,16]])}function wt(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y;return pe.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.payload,g.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!0,stabilityProviderStateLoadingError:!1}});case 3:return n=t.amount,a=t.userPublicKey,r=t.env,i=t.stablecoinAta,o=t.stabilityProviderStatePubkey,s=t.stabilityPoolStatePubkey,c=t.stabilityCounter,g.next=6,Object(ye.g)("stabilityOperations");case 6:return u=g.sent,g.prev=7,Object(Se.b)({message:"Provide Stability",description:"Providing ".concat(n," USDH Stability"),type:"info"}),l=new j.PublicKey(he.a[r].borrowing.accounts.epochToScaleToSum),b=new j.PublicKey(he.a[r].borrowing.accounts.stablecoinStabilityPoolVault),d=new j.PublicKey(he.a[r].borrowing.accounts.stabilityVaults),g.next=14,Object(ye.b)(u.provideStability,new j.PublicKey(a),o,s,d,l,b,i,n*A.j);case 14:return Object(Se.b)({message:"Provided Stability",description:"Provided ".concat(n," USDH Stability"),type:"success"}),g.next=17,Object(ye.i)((function(e){return e.hubbleBorrow.stabilityProviderState}));case 17:return p=g.sent,g.next=20,Object(ye.i)((function(e){return e.hubbleBorrow.stabilityPoolState}));case 20:return y=g.sent,g.next=23,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderState:p,stabilityProviderStatePubkey:y}});case 23:g.next=31;break;case 25:return g.prev=25,g.t0=g.catch(7),Object(Se.b)({message:"Failed to provide USDH stability.",description:"Unexpected error when providing USDH stability.",type:"error"}),console.error("Failed to provide stability",g.t0),g.next=31,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoadingError:!0}});case 31:return g.next=33,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!1,stabilityCounter:c+1}});case 33:case"end":return g.stop()}}),at,null,[[7,25]])}function ht(e){var t;return pe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{confirmed:t.confirmed}});case 3:case"end":return n.stop()}}),rt)}function Et(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S;return pe.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.payload,m.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!0,stabilityProviderStateLoadingError:!1}});case 3:return n=t.amount,a=t.userPublicKey,r=t.env,i=t.stablecoinAta,o=t.stabilityProviderStatePubkey,s=t.stabilityPoolStatePubkey,c=t.stabilityCounter,m.next=6,Object(ye.g)("stabilityOperations");case 6:return u=m.sent,m.prev=7,Object(Se.b)({message:"Withdraw Stability",description:"Withdrawing ".concat(n," USDH from the Stability Pool"),type:"info"}),l=new j.PublicKey(he.a[r].borrowing.accounts.epochToScaleToSum),b=new j.PublicKey(he.a[r].borrowing.accounts.stablecoinStabilityPoolVault),d=new j.PublicKey(he.a[r].borrowing.accounts.stabilityVaults),p=new j.PublicKey(he.a[r].borrowing.accounts.borrowingMarketState),y=new j.PublicKey(he.a[r].borrowing.accounts.stablecoinStabilityPoolVaultAuthority),m.next=16,Object(ye.b)(u.withdrawStability,new j.PublicKey(a),p,o,s,d,l,b,y,i,1e4*n);case 16:return Object(Se.b)({message:"Withdraw Stability",description:"Successfully withdrew ".concat(n," USDH"),type:"success"}),m.next=19,Object(ye.i)((function(e){return e.hubbleBorrow.stabilityProviderState}));case 19:return g=m.sent,m.next=22,Object(ye.i)((function(e){return e.hubbleBorrow.stabilityPoolState}));case 22:return S=m.sent,m.next=25,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderState:g,stabilityProviderStatePubkey:S}});case 25:m.next=33;break;case 27:return m.prev=27,m.t0=m.catch(7),Object(Se.b)({message:"Failed to withdraw USDH stability.",description:"Unexpected error when withdrawing USDH stability",type:"error"}),console.error("Failed to withdraw stability",m.t0),m.next=33,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoadingError:!0}});case 33:return m.next=35,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!1,stabilityCounter:c+1}});case 35:case"end":return m.stop()}}),it,null,[[7,27]])}function Ot(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,A,f,T,w,h,E,O,P,_,k,v,I,M,L,R,x,C,N,K;return pe.a.wrap((function(D){for(;;)switch(D.prev=D.next){case 0:return t=e.payload,D.next=3,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!0,stabilityProviderStateLoadingError:!1}});case 3:return n=t.userPublicKey,a=t.env,r=t.borrowingMarketState,i=t.stabilityProviderStatePubkey,o=t.stabilityCounter,s=t.srmAta,c=t.ethAta,u=t.btcAta,l=t.rayAta,b=t.fttAta,d=t.hbbAta,D.next=6,Object(ye.g)("stabilityOperations");case 6:return p=D.sent,D.prev=7,Object(Se.b)({message:"Harvesting Stability Gains",description:"Harvesting Stability Gains",type:"info"}),y=new j.PublicKey(he.a[a].borrowing.accounts.borrowingMarketState),g=new j.PublicKey(he.a[a].borrowing.accounts.epochToScaleToSum),S=new j.PublicKey(he.a[a].borrowing.accounts.liquidationsQueue),m=new j.PublicKey(he.a[a].borrowing.accounts.stabilityVaults),A=new j.PublicKey(he.a[a].borrowing.accounts.borrowingVaults),f=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultSol),T=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultSrm),w=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultEth),h=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultBtc),E=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultRay),O=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultFtt),P=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultAuthority),_=new j.PublicKey(he.a[a].borrowing.accounts.stabilityPoolState),k=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.SOL),v=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.ETH),I=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.SRM),M=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.BTC),L=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.RAY),R=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.FTT),x=new j.PublicKey(he.a[a].borrowing.accounts.collateralVaultsAuthority),C=[{ticker:"SOL",clearingAgentAta:new j.PublicKey(n),collateralVault:k,liquidationRewardsVault:f},{ticker:"BTC",clearingAgentAta:u,collateralVault:M,liquidationRewardsVault:h},{ticker:"ETH",clearingAgentAta:c,collateralVault:v,liquidationRewardsVault:w},{ticker:"SRM",clearingAgentAta:s,collateralVault:I,liquidationRewardsVault:T},{ticker:"RAY",clearingAgentAta:l,collateralVault:L,liquidationRewardsVault:E},{ticker:"FTT",clearingAgentAta:b,collateralVault:R,liquidationRewardsVault:O}],D.next=32,Object(ye.b)(p.clearLiquidationGains,new j.PublicKey(n),A,y,x,S,C);case 32:return D.next=34,Object(ye.b)(p.harvestLiquidationGains,new j.PublicKey(n),i,_,m,y,g,S,s,c,u,l,b,d,r.hbbMint,r.hbbMintAuthority,f,T,w,h,E,O,P);case 34:return Object(Se.b)({message:"Harvested stability gains",description:"Harvested stability gains",type:"success"}),D.next=37,Object(ye.i)((function(e){return e.hubbleBorrow.stabilityProviderState}));case 37:return N=D.sent,D.next=40,Object(ye.i)((function(e){return e.hubbleBorrow.stabilityPoolState}));case 40:return K=D.sent,D.next=43,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderState:N,stabilityProviderStatePubkey:K}});case 43:D.next=51;break;case 45:return D.prev=45,D.t0=D.catch(7),Object(Se.b)({message:"Failed to harvest liquidation gains",description:"Make sure you have ATA for all coins.",type:"error"}),console.error("Failed to harvest stability gains",D.t0),D.next=51,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoadingError:!0}});case 51:return D.next=53,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stabilityProviderStateLoading:!1,stabilityCounter:o+1}});case 53:case"end":return D.stop()}}),ot,null,[[7,45]])}var Pt=function(e){return"".concat(Object(ve.k)(e.depositedCollateral.sol,"SOL")," SOL, ").concat(Object(ve.k)(e.depositedCollateral.btc,"BTC")," BTC, ").concat(Object(ve.k)(e.depositedCollateral.eth,"ETH")," ETH, ").concat(Object(ve.k)(e.depositedCollateral.srm,"SRM")," SRM, ").concat(Object(ve.k)(e.depositedCollateral.ftt,"FTT")," FTT, ").concat(Object(ve.k)(e.depositedCollateral.ray,"RAY")," RAY")};function _t(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,f,T,w,h,E,O,P,_,k,v,I,M,L,R,x,C,N,K,D,B,V,F,G,U,H,q;return pe.a.wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return t=e.payload,n=t.userPublicKey,a=t.env,r=t.userMetadata,i=t.borrowingMarketState,o=t.liquidationCounter,s=t.srmAta,c=t.ethAta,u=t.btcAta,l=t.rayAta,b=t.fttAta,d=t.pos,W.next=4,Object(ye.g)("stabilityOperations");case 4:return p=W.sent,W.prev=5,y=new j.PublicKey(he.a[a].borrowing.accounts.epochToScaleToSum),g=new j.PublicKey(he.a[a].borrowing.accounts.stabilityVaults),S=new j.PublicKey(he.a[a].borrowing.accounts.liquidationsQueue),m=new j.PublicKey(he.a[a].borrowing.accounts.borrowingVaults),f=new j.PublicKey(he.a[a].borrowing.accounts.stabilityPoolState),T=new j.PublicKey(he.a[a].borrowing.accounts.borrowingMarketState),w=new j.PublicKey(he.a[a].borrowing.accounts.stablecoinMint),h=i.stablecoinMintAuthority,E=new j.PublicKey(he.a[a].borrowing.accounts.stablecoinStabilityPoolVault),O=new j.PublicKey(he.a[a].borrowing.accounts.stablecoinStabilityPoolVaultAuthority),P=new j.PublicKey(he.a[a].borrowing.accounts.pythSolPriceInfo),_=new j.PublicKey(he.a[a].borrowing.accounts.pythEthPriceInfo),k=new j.PublicKey(he.a[a].borrowing.accounts.pythBtcPriceInfo),v=new j.PublicKey(he.a[a].borrowing.accounts.pythSrmPriceInfo),I=new j.PublicKey(he.a[a].borrowing.accounts.pythRayPriceInfo),M=new j.PublicKey(he.a[a].borrowing.accounts.pythFttPriceInfo),Object(Se.b)({message:"Liquidating..",description:"Attempting to liquidate user.\n      Debt: ".concat(d.borrowedStablecoin/A.j,"\n      Holdings: ").concat(Pt(d)),type:"info",duration:0}),W.next=25,Object(ye.b)(p.tryLiquidate,new j.PublicKey(n),T,f,r,g,m,y,w,h,E,O,S,P,k,_,v,I,M);case 25:return L=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultSol),R=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultSrm),x=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultEth),C=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultBtc),N=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultRay),K=new j.PublicKey(he.a[a].borrowing.accounts.liquidationRewardsVaultFtt),D=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.SOL),B=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.ETH),V=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.SRM),F=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.BTC),G=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.RAY),U=new j.PublicKey(he.a[a].borrowing.accounts.collateralVault.FTT),H=new j.PublicKey(he.a[a].borrowing.accounts.collateralVaultsAuthority),q=[{ticker:"SOL",clearingAgentAta:new j.PublicKey(n),collateralVault:D,liquidationRewardsVault:L},{ticker:"BTC",clearingAgentAta:u,collateralVault:F,liquidationRewardsVault:C},{ticker:"ETH",clearingAgentAta:c,collateralVault:B,liquidationRewardsVault:x},{ticker:"SRM",clearingAgentAta:s,collateralVault:V,liquidationRewardsVault:R},{ticker:"RAY",clearingAgentAta:l,collateralVault:G,liquidationRewardsVault:N},{ticker:"FTT",clearingAgentAta:b,collateralVault:U,liquidationRewardsVault:K}],Object(Se.b)({message:"Clearing gains..",description:"Attempting to liquidate user",type:"info"}),W.next=42,Object(ye.b)(p.clearLiquidationGains,new j.PublicKey(n),m,T,H,S,q);case 42:Object(Se.b)({message:"Liquidation successful",description:"Liquidated user.\n      Debt: ".concat(d.borrowedStablecoin/A.j,"\n      Holdings: ").concat(Pt(d)),type:"success"}),W.next=49;break;case 45:W.prev=45,W.t0=W.catch(5),Object(Se.b)({message:"Failed to Liquidate user",description:"Unexpected error when Liquidating user",type:"error"}),console.error("Failed to Liquidate ser",W.t0);case 49:return W.next=51,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{liquidationCounter:o+1}});case 51:case"end":return W.stop()}}),st,null,[[5,45]])}function kt(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.l)(ee.GET_BORROWING_MARKET_STATE,ut),Object(ye.l)(ee.GET_USER_VAULTS,dt),Object(ye.l)(ee.CREATE_LOAN_DEPOSIT_BORROW,pt),Object(ye.l)(ee.GET_STABILITY_POOL_STATE,ft),Object(ye.l)(ee.GET_STABILITY_PROVIDER_STATE,Tt),Object(ye.l)(ee.AIRDROP_USDH,lt),Object(ye.l)(ee.AIRDROP_HBB,bt),Object(ye.l)(ee.APPROVE_STABILITY,At),Object(ye.l)(ee.PROVIDE_STABILITY,wt),Object(ye.l)(ee.WITHDRAW_STABILITY,Et),Object(ye.l)(ee.HARVEST_LIQUIDATION_GAINS,Ot),Object(ye.l)(ee.TRY_LIQUIDATE,_t),Object(ye.l)(ee.REPAY_LOAN,yt),Object(ye.l)(ee.WITHDRAW_COLLATERAL,gt),Object(ye.l)(ee.DEPOSIT_COLLATERAL,St),Object(ye.l)(ee.BORROW_STABLECOIN,mt),Object(ye.l)(ee.COFIRM_DIALOG,ht)]);case 2:case"end":return e.stop()}}),ct)}var vt=Object(ye.b)(Ae,[kt],["web3/CLIENT_CONNECTED","web3/WALLET_CONNECTED","web3/WALLET_DISCONNECTED"],{createContext:function(e){var t=e.env,n=e.client,a=e.publicKey,r=e.signTransaction,i=e.signAllTransactions,o=null,s=null,c=null,u=null;if(n&&a){var l=he.a[t].borrowing.programId,b=new we(n,l,{publicKey:a,signTransaction:r,signAllTransactions:i});s=new Oe.a(n,r,i,a),o=new Ee.a(b),c=new Ie(b),u=new Me(b)}return{stateService:o,borrowingOperations:c,tokenService:s,stabilityOperations:u}}}),It=function e(t,n,a){var r=this;Object(I.a)(this,e),this._borrowingClient=void 0,this._walletPublicKey=void 0,this._signTransaction=void 0,this.approveStaking=function(){var e=Object(_e.a)(pe.a.mark((function e(t,n,a,i){var o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new j.Keypair,e.next=3,r._borrowingClient.client.rpc.stakingApprove({accounts:{user:t,userSolRewardsAta:t,userStakingState:o.publicKey,stakingPoolState:i,userHbbStakingAta:n,userStablecoinRewardsAta:a,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,rent:fe.e.SYSVAR_RENT_PUBKEY,systemProgram:fe.e.SystemProgram.programId},signers:[o]});case 3:return e.abrupt("return",o.publicKey);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),this.stakeHbb=function(){var e=Object(_e.a)(pe.a.mark((function e(t,n,a,i,o,s){var c;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r._borrowingClient.client.rpc.stakingStakeHbb(new fe.a(s),{accounts:{user:t,stakingPoolState:n,userStakingState:a,stakingVault:i,userHbbStakingAta:o,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID}}),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o){return e.apply(this,arguments)}}(),this.unstakeHbb=function(e,t,n,a,i,o,s,c,u,l,b,d){return r._borrowingClient.client.rpc.unstakeHbb(new fe.a(d),{accounts:{user:e,borrowingMarketState:t,borrowingVaults:n,stakingPoolState:a,userStakingState:i,borrowingFeesVault:o,borrowingFeesVaultAuthority:s,userStablecoinRewardsAta:c,stakingVault:l,stakingVaultAuthority:b,userHbbStakingAta:u,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,rent:j.SYSVAR_RENT_PUBKEY}})},this.harvestRewards=function(){var e=Object(_e.a)(pe.a.mark((function e(t,n,a,i,o,s,c,u){var l;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._borrowingClient.client.rpc.stakingHarvestReward({accounts:{borrowingMarketState:t,borrowingVaults:n,stakingPoolState:a,userStakingState:i,user:o,borrowingFeesVault:s,borrowingFeesVaultAuthority:c,userStablecoinRewardsAta:u,tokenProgram:ke.TokenInstructions.TOKEN_PROGRAM_ID,rent:fe.e.SYSVAR_RENT_PUBKEY}});case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,s,c){return e.apply(this,arguments)}}(),this._borrowingClient=t,this._walletPublicKey=a,this._signTransaction=n},Mt=pe.a.mark(Kt),jt=pe.a.mark(Dt),Lt=pe.a.mark(Bt),Rt=pe.a.mark(Vt),xt=pe.a.mark(Ft),Ct=pe.a.mark(Gt),Nt=pe.a.mark(Ut);function Kt(e){var t,n,a,r,i;return pe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakingPoolStateLoading:!0,stakingPoolStateLoadingError:!1}});case 3:return o.next=5,Object(ye.g)("stateService");case 5:return n=o.sent,a=t.env,o.prev=7,r=new j.PublicKey(he.a[a].borrowing.accounts.stakingPoolState),o.next=11,Object(ye.b)(n.getStakingPoolState,r);case 11:return i=o.sent,o.next=14,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakingPoolStatePubkey:r,stakingPoolState:i}});case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(7),Object(Se.b)({message:A.g.GENERAL_PROGRAM_DATA_FAILED_MESSAGE,description:A.g.GENERAL_USER_DATA_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to load staking pool state",o.t0),o.next=22,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakingPoolStateLoadingError:!0}});case 22:return o.next=24,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakingPoolStateLoading:!1}});case 24:case"end":return o.stop()}}),Mt,null,[[7,16]])}function Dt(e){var t,n,a,r,i,o;return pe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingStateLoading:!0,userStakingStateLoadingError:!1}});case 3:return n=t.userPublicKey,a=t.env,s.next=6,Object(ye.g)("stateService");case 6:return r=s.sent,s.prev=7,i=new j.PublicKey(he.a[a].borrowing.accounts.stakingPoolState),s.next=11,Object(ye.b)(r.getUserStakingState,new j.PublicKey(n),i);case 11:return o=s.sent,s.next=14,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingState:null===o?null:o.account,userStakingStatePubkey:null===o?null:o.publicKey}});case 14:s.next=22;break;case 16:return s.prev=16,s.t0=s.catch(7),Object(Se.b)({message:A.g.GENERAL_USER_DATA_FAILED_MESSAGE,description:A.g.GENERAL_USER_DATA_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to load user staking state",s.t0),s.next=22,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingStateLoadingError:!0}});case 22:return s.next=24,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingStateLoading:!1}});case 24:case"end":return s.stop()}}),jt,null,[[7,16]])}function Bt(e){var t,n,a,r,i,o,s,c,u,l;return pe.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.payload,b.next=3,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingStateLoading:!0,userStakingStateLoadingError:!1}});case 3:return n=t.userPublicKey,a=t.hbbAta,r=t.stablecoinAta,i=t.stakingPoolStatePubkey,o=t.stakingCounter,b.next=6,Object(ye.g)("stakingOperations");case 6:return s=b.sent,b.next=9,Object(ye.g)("stateService");case 9:return c=b.sent,b.prev=10,Object(Se.b)({message:"Approving provide staking",description:"Approve the transaction in your browser wallet popup to approve staking",type:"info",key:"approveStaking",duration:0}),b.next=14,Object(ye.b)(s.approveStaking,new j.PublicKey(n),a,r,i);case 14:return u=b.sent,Object(Se.a)("approveStaking"),Object(Se.b)({message:"Staking Approved",description:"Approved staking successfully",type:"success"}),b.next=19,Object(ye.b)(c.getUserStakingState,new j.PublicKey(n),i);case 19:return l=b.sent,b.next=22,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingState:l,userStakingStatePubkey:u}});case 22:b.next=30;break;case 24:return b.prev=24,b.t0=b.catch(10),Object(Se.b)({message:A.g.APPROVE_STAKING_FAILED_MESSAGE,description:A.g.APPROVE_STAKING_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to create vault",b.t0),b.next=30,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{userStakingStateLoadingError:!0}});case 30:return b.next=32,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{userStakingStateLoading:!1,stakingCounter:o+1}});case 32:case"end":return b.stop()}}),Lt,null,[[10,24]])}function Vt(e){var t,n,a,r,i,o,s,c,u,l;return pe.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.payload,b.next=3,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakeSubmitting:!0,stakeError:!1}});case 3:return n=t.env,a=t.walletPublicKey,r=t.hbbAta,i=t.userStakingStatePubkey,o=t.depositHbbAmount,s=t.stakingCounter,b.next=6,Object(ye.g)("stakingOperations");case 6:return c=b.sent,u=new j.PublicKey(he.a[n].borrowing.accounts.stakingPoolState),l=new j.PublicKey(he.a[n].borrowing.accounts.stakingVault),b.prev=9,b.next=12,Object(ye.b)(c.stakeHbb,new j.PublicKey(a),u,i,l,r,o*A.f);case 12:b.next=20;break;case 14:return b.prev=14,b.t0=b.catch(9),Object(Se.b)({message:A.g.STAKING_DEPOSIT_FAILED_MESSAGE,description:A.g.STAKING_DEPOSIT_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to stake HBB",b.t0),b.next=20,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stakeError:!0}});case 20:return b.next=22,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakeSubmitting:!1,stakingCounter:s+1}});case 22:case"end":return b.stop()}}),Rt,null,[[9,14]])}function Ft(e){var t,n,a,r,i,o,s,c,u,l,b,d;return pe.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.next=3,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakeSubmitting:!0,stakeError:!1}});case 3:return n=t.env,a=t.userPublicKey,r=t.userStakingStatePubkey,i=t.userStablecoinRewardsAta,o=t.stakingCounter,p.next=6,Object(ye.g)("stakingOperations");case 6:return s=p.sent,p.prev=7,c=new j.PublicKey(he.a[n].borrowing.accounts.borrowingMarketState),u=new j.PublicKey(he.a[n].borrowing.accounts.borrowingVaults),l=new j.PublicKey(he.a[n].borrowing.accounts.stakingPoolState),b=new j.PublicKey(he.a[n].borrowing.accounts.borrowingFeesAccount),d=new j.PublicKey(he.a[n].borrowing.accounts.borrowingFeesVaultAuthority),p.next=15,Object(ye.b)(s.harvestRewards,c,u,l,r,a,b,d,i);case 15:p.next=23;break;case 17:return p.prev=17,p.t0=p.catch(7),Object(Se.b)({message:A.g.HARVEST_FAILED_MESSAGE,description:A.g.HARVEST_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to harvest reward",p.t0),p.next=23,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stakeError:!0}});case 23:return p.next=25,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakeSubmitting:!1,stakingCounter:o+1}});case 25:case"end":return p.stop()}}),xt,null,[[7,17]])}function Gt(e){var t,n,a,r,i,o,s,c,u,l,b,d,p,y,g,S,m,f;return pe.a.wrap((function(T){for(;;)switch(T.prev=T.next){case 0:return t=e.payload,T.next=3,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakeSubmitting:!0,stakeError:!1}});case 3:return n=t.env,a=t.walletPublicKey,r=t.userStakingStatePubkey,i=t.stablecoinAta,o=t.hbbAta,s=t.withdrawHbbAmount,c=t.stakingCounter,T.next=6,Object(ye.g)("stakingOperations");case 6:return u=T.sent,T.next=9,Object(ye.g)("stateService");case 9:return l=T.sent,T.prev=10,b=new j.PublicKey(he.a[n].borrowing.accounts.borrowingMarketState),d=new j.PublicKey(he.a[n].borrowing.accounts.borrowingVaults),p=new j.PublicKey(he.a[n].borrowing.accounts.stakingPoolState),y=new j.PublicKey(he.a[n].borrowing.accounts.stakingVault),T.next=17,Object(ye.b)(l.getStakingPoolState,p);case 17:return g=T.sent,S=g.stakingVaultAuthority,m=new j.PublicKey(he.a[n].borrowing.accounts.borrowingFeesAccount),f=new j.PublicKey(he.a[n].borrowing.accounts.borrowingFeesVaultAuthority),T.next=23,Object(ye.b)(u.unstakeHbb,new j.PublicKey(a),b,d,p,r,m,f,i,o,y,S,s*A.f);case 23:T.next=31;break;case 25:return T.prev=25,T.t0=T.catch(10),Object(Se.b)({message:A.g.UNSTAKING_WITHDRAW_FAILED_MESSAGE,description:A.g.UNSTAKING_WITHDRAW_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to unstake HBB",T.t0),T.next=31,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{stakeError:!0}});case 31:return T.next=33,Object(ye.h)({type:"hubble/stake/SET_STATE",payload:{stakeSubmitting:!1,stakingCounter:c+1}});case 33:case"end":return T.stop()}}),Ct,null,[[10,25]])}function Ut(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.l)(re.GET_STAKING_POOL_STATE,Kt),Object(ye.l)(re.GET_USER_STAKING_STATE,Dt),Object(ye.l)(re.APPROVE_STAKING,Bt),Object(ye.l)(re.STAKE_HBB,Vt),Object(ye.l)(re.UNSTAKE_HBB,Gt),Object(ye.l)(re.HARVEST_REWARDS,Ft)]);case 2:case"end":return e.stop()}}),Nt)}var Ht=Object(ye.b)(Ae,[Ut],["web3/CLIENT_CONNECTED","web3/WALLET_CONNECTED","web3/WALLET_DISCONNECTED"],{createContext:function(e){var t=e.env,n=e.client,a=e.publicKey,r=e.signTransaction,i=e.signAllTransactions,o=null,s=null,c=null;if(n&&a){var u=he.a[t].borrowing.programId,l=new j.PublicKey(a),b=new we(n,u,{publicKey:l,signTransaction:r,signAllTransactions:i});c=new Ee.a(b),o=new Oe.a(n,r,i,l),s=new It(b,r,l)}return{stateService:c,tokenService:o,stakingOperations:s}}}),qt=n(469),Wt=n(135),Yt=n(70),Qt=function(e,t){try{var n=zt(t.data);return Object($.a)(Object($.a)({publicKey:e},t),{},{data:n})}catch(a){return console.error("Unable to deserialise mint account - ".concat(e.toBase58()," - data - ").concat(JSON.stringify(t)),a),null}},zt=function(e){if(e.length!==Yt.c.span)throw new Error("Not a valid Mint");var t=Yt.c.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new j.PublicKey(t.mintAuthority),t.supply=Yt.e.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new j.PublicKey(t.freezeAuthority),t},Zt=function(e,t){var n=Jt(t.data);return Object($.a)(Object($.a)({publicKey:e},t),{},{data:n})},Jt=function(e){var t=Yt.b.decode(e);return t.mint=new j.PublicKey(t.mint),t.owner=new j.PublicKey(t.owner),t.amount=Yt.e.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new Yt.e(0)):(t.delegate=new j.PublicKey(t.delegate),t.delegatedAmount=Yt.e.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=Yt.e.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new j.PublicKey(t.closeAuthority),t},Xt=function(e,t){try{return Object($.a)(Object($.a)({publicKey:e},t),{},{data:null})}catch(n){return console.error("Unable to deserialise native account - ".concat(e.toBase58()," - data - ").concat(JSON.stringify(t)),n),null}};function $t(e,t,n,a,r){return en.apply(this,arguments)}function en(){return(en=Object(_e.a)(pe.a.mark((function e(t,n,a,r,i){var o,s,c,u;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=[]),e.next=3,t.getRecentBlockhash();case 3:return o=e.sent,s=o.blockhash,n.feePayer=a,n.recentBlockhash=s,r.forEach((function(e){void 0!==e&&n.partialSign(e)})),c=n.serialize(),e.next=11,Object(j.sendAndConfirmRawTransaction)(t,c,i);case 11:return u=e.sent,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tn=function e(t){var n=this;Object(I.a)(this,e),this._client=void 0,this.requestAirdrop=function(e,t){return n._client.sendConnection.requestAirdrop(e,t)},this.requestAirdropTransfer=function(){var e=Object(_e.a)(pe.a.mark((function e(t,a){var r,i,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ve.h)(),i=(new j.Transaction).add(j.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:t,lamports:a})),e.next=4,$t(n._client.connection,i,r.publicKey,[r]);case 4:return o=e.sent,console.log("Airdrop Signature",o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getMintAccounts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";return Promise.all(Object(ve.c)(e,ve.a).map((function(e){return n._client.connection.getMultipleAccountsInfo(e,t).then((function(t){return e.map((function(e,n){var a=t[n];return null===a||0===a.data.length?null:Qt(e,a)})).filter((function(e){return e}))}))}))).then((function(e){return e.flat()}))},this.getTokenAccounts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";return n._client.connection.getTokenAccountsByOwner(e,{programId:Yt.d},t).then((function(e){return e.value.map((function(e){return Zt(e.pubkey,e.account)}))}))},this.getNativeAccount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";return n._client.connection.getParsedAccountInfo(e,t).then((function(t){return null===t.value?null:Xt(e,t.value)}))},this._client=t},nn=pe.a.mark(un),an=pe.a.mark(ln),rn=pe.a.mark(bn),on=pe.a.mark(dn),sn=pe.a.mark(pn),cn=pe.a.mark(yn);function un(e){var t,n,a,r;return pe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.publicKey,i.next=4,Object(ye.h)({type:"solana/SET_STATE",payload:{nativeAccountLoading:!0,nativeAccountError:!1}});case 4:return i.next=6,Object(ye.g)("systemService");case 6:return a=i.sent,i.prev=7,i.next=10,Object(ye.b)(a.getNativeAccount,new j.PublicKey(n));case 10:return r=i.sent,i.next=13,Object(ye.h)({type:"solana/SET_STATE",payload:{nativeAccount:r}});case 13:i.next=21;break;case 15:return i.prev=15,i.t0=i.catch(7),Object(Se.b)({message:A.g.AIRDROP_FAILED_MESSAGE,description:A.g.AIRDROP_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to load native account",i.t0),i.next=21,Object(ye.h)({type:"solana/SET_STATE",payload:{nativeAccountError:!0}});case 21:return i.next=23,Object(ye.h)({type:"solana/SET_STATE",payload:{nativeAccountLoading:!1}});case 23:case"end":return i.stop()}}),nn,null,[[7,15]])}function ln(){var e,t,n,a,r,i,o;return pe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(ye.h)({type:"solana/SET_STATE",payload:{knownMintsLoading:!0,knownMintsError:!1}});case 2:return s.next=4,Object(ye.i)((function(e){return e.web3.env}));case 4:if(e=s.sent,null===(t=R.find((function(t){return t.name===e}))||null)){s.next=25;break}return n=new qt.a,a=n.resolve,s.prev=8,s.next=11,Object(ye.b)(a);case 11:return r=s.sent,i=r.filterByChainId(t.chainID).excludeByTag("nft").getList(),o=i.reduce((function(e,t){return e[t.address]=t,e}),{}),s.next=16,Object(ye.h)({type:"solana/SET_STATE",payload:{knownMints:o}});case 16:s.next=23;break;case 18:return s.prev=18,s.t0=s.catch(8),console.error("Failed to load known mints",s.t0),s.next=23,Object(ye.h)({type:"solana/SET_STATE",payload:{knownMintsError:!0}});case 23:s.next=28;break;case 25:return console.error("Failed to load known mints no config for env - ".concat(e)),s.next=28,Object(ye.h)({type:"solana/SET_STATE",payload:{knownMintsError:!0}});case 28:return s.next=30,Object(ye.h)({type:"solana/SET_STATE",payload:{knownMintsLoading:!1}});case 30:case"end":return s.stop()}}),an,null,[[8,18]])}function bn(e){var t,n,a,r,i;return pe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.mintAddresses,o.next=4,Object(ye.h)({type:"solana/SET_STATE",payload:{mintAccountsLoading:!0,mintAccountsError:!1}});case 4:return o.next=6,Object(ye.g)("systemService");case 6:return a=o.sent,o.prev=7,o.next=10,Object(ye.b)(a.getMintAccounts,n.map((function(e){return new j.PublicKey(e)})));case 10:return r=o.sent,i=r.reduce((function(e,t){return e[t.publicKey.toBase58()]=t,e}),{}),o.next=14,Object(ye.h)({type:"solana/SET_STATE",payload:{mintAccounts:i}});case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(7),Object(Se.b)({message:A.g.AIRDROP_FAILED_MESSAGE,description:A.g.AIRDROP_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to load mint accounts",o.t0),o.next=22,Object(ye.h)({type:"solana/SET_STATE",payload:{mintAccountsError:!0}});case 22:return o.next=24,Object(ye.h)({type:"solana/SET_STATE",payload:{mintAccountsLoading:!1}});case 24:case"end":return o.stop()}}),rn,null,[[7,16]])}function dn(e){var t,n,a,r;return pe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.publicKey,i.next=4,Object(ye.h)({type:"solana/SET_STATE",payload:{tokenAccountsLoading:!0,tokenAccountsError:!1}});case 4:return i.next=6,Object(ye.g)("systemService");case 6:return a=i.sent,i.prev=7,i.next=10,Object(ye.b)(a.getTokenAccounts,new j.PublicKey(n));case 10:return r=i.sent,i.next=13,Object(ye.h)({type:"solana/SET_STATE",payload:{tokenAccounts:r}});case 13:i.next=21;break;case 15:return i.prev=15,i.t0=i.catch(7),Object(Se.b)({message:A.g.AIRDROP_FAILED_MESSAGE,description:A.g.AIRDROP_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to load user token accounts",i.t0),i.next=21,Object(ye.h)({type:"solana/SET_STATE",payload:{tokenAccountsError:!0}});case 21:return i.next=23,Object(ye.h)({type:"solana/SET_STATE",payload:{tokenAccountsLoading:!1}});case 23:case"end":return i.stop()}}),on,null,[[7,15]])}function pn(e){var t,n,a,r,i,o,s;return pe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.env,a=t.publicKey,r=t.lamports,i=t.mintCounter,o=t.airdropCounter,c.next=4,Object(ye.h)({type:"solana/SET_STATE",payload:{airdropSubmitting:!0,airdropError:!1}});case 4:return c.next=6,Object(ye.g)("systemService");case 6:if(s=c.sent,c.prev=7,"devnet"!==n){c.next=13;break}return c.next=11,Object(ye.b)(s.requestAirdropTransfer,new j.PublicKey(a),r);case 11:c.next=15;break;case 13:return c.next=15,Object(ye.b)(s.requestAirdrop,new j.PublicKey(a),r);case 15:Object(Se.b)({message:A.g.AIRDROP_REQUESTED_MESSAGE,description:A.g.AIRDROP_REQUESTED_DESCRIPTION,type:"success"}),c.next=24;break;case 18:return c.prev=18,c.t0=c.catch(7),Object(Se.b)({message:A.g.AIRDROP_FAILED_MESSAGE,description:A.g.AIRDROP_FAILED_DESCRIPTION,type:"error"}),console.error("Failed to submit airdrop",c.t0),c.next=24,Object(ye.h)({type:"solana/SET_STATE",payload:{airdropError:!0}});case 24:return c.next=26,Object(ye.h)({type:"solana/SET_STATE",payload:{airdropSubmitting:!1}});case 26:return c.next=28,Object(ye.h)({type:"hubble/core/SET_STATE",payload:{mintCounter:i+1}});case 28:return c.next=30,Object(ye.h)({type:"hubble/borrow/SET_STATE",payload:{airdropCounter:o+1}});case 30:case"end":return c.stop()}}),sn,null,[[7,18]])}function yn(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.m)(Wt.a.GET_NATIVE_ACCOUNT,un),Object(ye.m)(Wt.a.GET_KNOWN_MINTS,ln),Object(ye.m)(Wt.a.GET_MINT_ACCOUNTS,bn),Object(ye.m)(Wt.a.GET_TOKEN_ACCOUNTS,dn),Object(ye.l)(Wt.a.REQUEST_AIRDROP,pn)]);case 2:case"end":return e.stop()}}),cn)}var gn=Object(ye.b)(Ae,[yn],"web3/CLIENT_CONNECTED",{createContext:function(e){var t=e.client;return{systemService:new tn(t)}}}),Sn=pe.a.mark(Tn),mn=pe.a.mark(wn),An=pe.a.mark(hn),fn=pe.a.mark(En);function Tn(e){var t,n,a,r,i,o;return pe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.env,a=t.publicKey,r=t.signTransaction,i=t.signAllTransactions,o=a.toBase58(),s.next=5,Object(ye.h)({type:"web3/SET_STATE",payload:{walletPublicKey:o,walletConnected:!0}});case 5:return s.next=7,Object(ye.h)({type:"web3/WALLET_CONNECTED",payload:{env:n,client:new x(n),publicKey:a,signTransaction:r,signAllTransactions:i}});case 7:case"end":return s.stop()}}),Sn)}function wn(e){var t,n,a;return pe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,n=t.env,!(a=t.disconnect)){r.next=5;break}return r.next=5,Object(ye.b)(a);case 5:return r.next=7,Object(ye.h)({type:"web3/SET_STATE",payload:{walletConnected:!1,walletPublicKey:null}});case 7:return r.next=9,Object(ye.h)({type:"web3/WALLET_DISCONNECTED",payload:{env:n}});case 9:case"end":return r.stop()}}),mn)}function hn(e){var t,n,a,r,i;return pe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.env,a=t.publicKey,r=t.signTransaction,i=t.signAllTransactions,localStorage.setItem("web3.env",n),o.next=5,Object(ye.h)({type:"web3/SET_STATE",payload:{env:n}});case 5:return o.next=7,Object(ye.h)({type:"web3/CLIENT_CONNECTED",payload:{env:n,client:new x(n),publicKey:a,signTransaction:r,signAllTransactions:i}});case 7:case"end":return o.stop()}}),An)}function En(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.m)(ce.CONNECT_WALLET,Tn),Object(ye.m)(ce.DISCONNECT_WALLET,wn),Object(ye.m)(ce.SET_ENV,hn)]);case 2:case"end":return e.stop()}}),fn)}var On=n(208),Pn=new j.PublicKey("EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"),_n=function(e,t){var n=ke.MARKETS.find((function(t){return t.address.equals(e)})),a=ke.Market.getLayout((null===n||void 0===n?void 0:n.programId)||Pn).decode(t.data);return Object($.a)(Object($.a)({publicKey:e},t),{},{data:a})},kn={"7STJWT74tAZzhbNNPRH8WuGDy9GZg27968EwALWuezrH":"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW"},vn=function e(t){var n=this;Object(I.a)(this,e),this.client=void 0,this.getMarkets=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",a=n.getMarketsByMarketAddress(e),r=Array.from(a.keys()).map((function(e){return new j.PublicKey(e)}));return n.client.connection.getMultipleAccountsInfo(r,t).then((function(e){return r.filter((function(t,n){return null!==e[n]})).reduce((function(t,n,a){var r=e[a];return null!==r&&t.set(n.toBase58(),_n(n,r)),t}),new Map)})).then((function(e){var r=new Map;return e.forEach((function(e,t){var n=a.get(t);void 0!==n&&r.set(t,{marketInfo:n,marketAccount:e})})),n.getMarketData(r,t)}))},this.getMarketsByMarketAddress=function(e){var t=new Map;return e.forEach((function(e){var n=ke.TOKEN_MINTS.find((function(t){return t.address.equals(e)})),a=kn[e.toBase58()],r=ke.MARKETS.filter((function(e){return!e.deprecated})).find((function(e){return n&&(e.name==="".concat(n.name,"/USDC")||e.name==="".concat(n.name,"/USDT"))||e.address.toBase58()===a}));void 0!==r&&t.set(r.address.toBase58(),Object($.a)(Object($.a)({},r),{},{mintAddress:e}))})),t},this.getMarketData=function(e,t){return n.getMarketSubaccounts(e,t).then((function(t){var a={};return e.forEach((function(e,r){var i,o=e.marketAccount,s=_n(o.data.baseMint,t.get(o.data.baseMint.toBase58())),c=_n(o.data.quoteMint,t.get(o.data.quoteMint.toBase58())),u=(null===s||void 0===s?void 0:s.data.decimals)||0,l=(null===c||void 0===c?void 0:c.data.decimals)||0,b=new ke.Market(o.data,u,l,void 0,o.programId),d=t.get(o.data.bids.toBase58());d&&(i=ke.Orderbook.decode(b,d.data));var p,y=t.get(o.data.asks.toBase58());y&&(p=ke.Orderbook.decode(b,y.data)),a[e.marketInfo.mintAddress.toBase58()]={marketInfo:e.marketInfo,midPrice:n.getMidPrice(r,i,p)}})),a}))},this.getMarketSubaccounts=function(e,t){var a=new Set;return e.forEach((function(e){n.extractMarketSubaccounts(e.marketAccount).forEach((function(e){return a.add(e.toBase58())}))})),n.fetchMarketSubaccounts(Array.from(a.values()).map((function(e){return new j.PublicKey(e)})),t)},this.fetchMarketSubaccounts=function(e,t){return n.client.connection.getMultipleAccountsInfo(e,t).then((function(t){return e.filter((function(e,n){return null!==t[n]})).reduce((function(e,n,a){var r=t[a];return e.set(n.toBase58(),r),e}),new Map)}))},this.extractMarketSubaccounts=function(e){return[e.data.baseMint,e.data.quoteMint,e.data.bids,e.data.asks]},this.getMidPrice=function(e,t,a){var r=ke.TOKEN_MINTS.find((function(t){return t.address.toBase58()===e}));return ve.b.has((null===r||void 0===r?void 0:r.name)||"")?1:t&&a?n.bbo(t,a):0},this.bbo=function(e,t){var n=e.getL2(1),a=t.getL2(1);return n.length>0&&a.length>0?(n[0][0]+a[0][0])/2:0},this.client=t},In=pe.a.mark(jn),Mn=pe.a.mark(Ln);function jn(e){var t,n,a,r;return pe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.mintAddresses,i.next=4,Object(ye.h)({type:"serum/SET_STATE",payload:{marketsLoading:!0,marketsError:!1}});case 4:return i.next=6,Object(ye.g)("serumMarketService");case 6:return a=i.sent,i.prev=7,i.next=10,Object(ye.e)(5e3);case 10:return i.next=12,Object(ye.b)(a.getMarkets,n.map((function(e){return new j.PublicKey(e)})));case 12:return r=i.sent,i.next=15,Object(ye.h)({type:"serum/SET_STATE",payload:{markets:r}});case 15:i.next=23;break;case 17:return i.prev=17,i.t0=i.catch(7),Object(Se.b)({message:"Failed to load Serum markets",description:"Prices will not be available",type:"error"}),console.error("Failed to load serum markets",i.t0),i.next=23,Object(ye.h)({type:"serum/SET_STATE",payload:{marketsError:!0}});case 23:return i.next=25,Object(ye.h)({type:"serum/SET_STATE",payload:{marketsLoading:!1}});case 25:case"end":return i.stop()}}),In,null,[[7,17]])}function Ln(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.m)(On.a.GET_MARKETS,jn),Object(ye.l)(On.a.GET_MARKETS_ONCE,jn)]);case 2:case"end":return e.stop()}}),Mn)}var Rn=Object(ye.b)(Ae,[Ln],"web3/CLIENT_CONNECTED",{createContext:function(e){var t=e.env,n=e.client;return"mainnet-beta"!==t&&(n=new x("mainnet-beta")),{serumMarketService:new vn(n)}}}),xn=pe.a.mark(Cn);function Cn(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([En(),gn,Rn,vt,He,Ht]);case 2:case"end":return e.stop()}}),xn)}var Nn,Kn=Object(s.a)(),Dn=Object(c.a)(),Bn=[Dn,Object(u.a)(Kn)],Vn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c)(l.a.apply(void 0,Bn)),Fn=Object(l.d)((Nn=Kn,Object(l.b)({router:Object(S.b)(Nn),hubbleBorrow:ne,hubbleCore:ae.c,hubbleStaking:oe,solana:se.a,web3:le,serum:be.a})),Vn);Dn.run(Cn),o.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(X,{store:Fn,history:Kn})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[751,8,9]]]);